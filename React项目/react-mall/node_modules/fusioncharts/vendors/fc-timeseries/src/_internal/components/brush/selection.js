import{SmartRenderer}from'../../../../../fc-core/src/component-interface';import{getTouchEvent,toRaphaelColor}from'./../../../../../fc-core/src/lib';const COLOR_FDFDFD='#fdfdfd',COLOR_F7FFFE='#f7fffe',COLOR_E3E3E3='#e3e3e3',M='M',v='v',h='h';class Selection extends SmartRenderer{constructor(){super(),this._dimensions={}}__setDefaultConfig(){super.__setDefaultConfig(),this.config.style={fill:toRaphaelColor({FCcolor:{color:'#fdfdfd,#f7fffe',ratio:'0,100',angle:90,alpha:'50,50'}}),stroke:COLOR_E3E3E3,"stroke-width":1}}configureAttributes(a={}){super.configureAttributes(a);let b=this,c=b.config;c.orientation=a.orientation}setDimension(a){this._dimensions=a}getDimension(){return this._dimensions}attachHandlers(){let a,b,c,d,f,e=this,g=e.getFromEnv('animationManager'),h=e.getLinkedParent(),i=h.getFromEnv('timeNavigator');e.addEventListener('fc-dragstart',e.dragstartHandler||(e.dragstartHandler=function(c){b=getTouchEvent(c).clientX,a=h.getCurrentBrushDimensions()})),e.addEventListener('fc-dragmove',e.dragmoveHandler||(e.dragmoveHandler=function(h){g.setAnimationState('timenavScroll'),c=getTouchEvent(h).clientX-b,d=a.x+c,f=a.x+c+a.width,i.validateDomain([d,f])}))}draw(){let a=this,b=a.config,c=a.getDimension();a.addGraphicalElement({el:'rect',attr:{x:c.x||0,y:c.y||0,width:c.width||0,height:c.height||0,fill:b.style.fill},css:{cursor:'move'},id:'selectionBox',label:'selectionBox',component:a,container:{id:'brushGroup',label:'brushGroup',isParent:!0}}),a.addGraphicalElement({el:'path',attr:{path:[M,c.x,c.y,v,c.height,h,c.width,v,-c.height],stroke:b.style.stroke,fill:'none',"stroke-width":b.style['stroke-width']},id:'selectionBoxBorder',label:'selectionBoxBorder',css:{cursor:'move'},component:a,container:{id:'brushGroup',label:'brushGroup',isParent:!0}})}}export default Selection;