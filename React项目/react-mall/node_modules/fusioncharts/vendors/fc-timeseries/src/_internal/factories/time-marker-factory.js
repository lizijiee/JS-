import TimeSpanMarker from'../components/time-span-marker';import TimeInstanceMarker from'../components/time-instance-marker';export default(a=>{let b=a.config,c=b.xConfigs;a.config.enableTimeMarkers&&c.forEach(b=>{let c,d,e=b.timemarker||[],f=b.plot[0].value,g=a.getFromEnv('chartConfig'),h=g.dataTable.getSchema(),i=h.find(a=>a.name===f).format,j=[],k=[],l=a.getFromEnv('chart'),m=a.config.xConfigs[0].scale;e.forEach(a=>{a.end?j.push(a):k.push(a)}),c=a.attachChild(TimeSpanMarker,'timeSpanMarker'),c.configure({timeMarker:j,defaultFormat:i,xScale:m}),c.addExtEventListener('timeSpanMarkerHovered',a=>{a.data.senderTimeMarker!==c&&c.setData({hoveredIndex:a.data.hoveredIndex,hoveredFromOutside:!0},!0)},l),d=a.attachChild(TimeInstanceMarker,'timeInstanceMarker'),d.configure({timeMarker:k,defaultFormat:i,xScale:m}),d.addExtEventListener('timeInstanceMarkerHovered',a=>{a.data.senderTimeMarker!==d&&d.setData({hoveredMarkerIndex:a.data.hoveredMarkerIndex,hoveredDomainIndex:a.data.hoveredDomainIndex,hoveredFromOutside:!0},!0)},l)})});