import{SmartRenderer}from'../../../../../fc-core/src/component-interface';import{PXSTRING,isIE11,DEFAULT_FT_FONT}from'../../../../../fc-core/src/lib';const SEMICOLON=':',DEFAULT_PADDING=10,DEFAULT_INPUT_BOX_WIDTH=35,DEFAULT_INPUT_BOX_HEIGHT=20,SELECT_BG_IMAGE='url(data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0Ljk1IDEwIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9LmNscy0ye2ZpbGw6IzQ0NDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmFycm93czwvdGl0bGU+PHJlY3QgY2xhc3M9ImNscy0xIiB3aWR0aD0iNC45NSIgaGVpZ2h0PSIxMCIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIxLjQxIDQuNjcgMi40OCAzLjE4IDMuNTQgNC42NyAxLjQxIDQuNjciLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iMy41NCA1LjMzIDIuNDggNi44MiAxLjQxIDUuMzMgMy41NCA1LjMzIi8+PC9zdmc+) no-repeat 100% 100%',DIV_FACTOR=isIE11?6:2,formatDate=a=>(10>a?'0'+a:a)+'',getOptionsString=(a,b=-1)=>{let c,d='';for(c=0;c<=a;c++)d+=c===b?`<option value="${formatDate(c)}" selected>${formatDate(c)}</option>`:`<option value="${formatDate(c)}">${formatDate(c)}</option>`;return d};class TimeBox extends SmartRenderer{__setDefaultConfig(){let a=this.config;a.enabled=!0,a.label='Time: ',a.style={"font-family":DEFAULT_FT_FONT,"font-size":'12px',"font-weight":'normal',"font-style":'normal',color:'#5F5F5F'}}configureAttributes(a={}){let b=this,c=b.config;Object.keys(a).forEach(b=>c[b]=a[b])}getDimension(){let a,b=this,c=b.config,d=b.getFromEnv('smartLabel');return d.setStyle(c.style),a=c.labelDim=d.getOriSize(c.label),{width:a.width,height:a.height}}setTranslation(a,b){this.config.position={x:a,y:b}}getTime(){let a,b,c,d=this;return a=d.getGraphicalElement('hour-box','hour-box'),b=d.getGraphicalElement('minute-box','minute-box'),c=d.getGraphicalElement('second-box','second-box'),{hours:+a.element.value,minutes:+b.element.value,seconds:+c.element.value}}draw(){let a=this,b=a.config,c=b.position,d=b.labelDim,e=b.time||{},f=c.x,g=b.style;a.addGraphicalElement({el:'html',attr:{x:f,y:c.y,type:'label',text:b.label},component:a,css:b.style,container:{id:'box-container',label:'box-container',isParent:!0},label:'time-label',id:'time-label'}),f+=d.width,a.addGraphicalElement({el:'html',attr:{x:f,y:c.y-d.height/DIV_FACTOR,type:'select',innerHTML:getOptionsString(23,e.hours)},component:a,css:{fontSize:g['font-size'],fontFamily:g['font-family'],border:'0',outline:'1px solid #efefef',"outline-offset":'-1px',color:g.color,width:DEFAULT_INPUT_BOX_WIDTH+PXSTRING,height:DEFAULT_INPUT_BOX_HEIGHT+PXSTRING+' !important',padding:isIE11?'0px':'5px',background:SELECT_BG_IMAGE,"-webkit-appearance":'none',"-moz-appearance":'none',"-o-appearance":'none',appearance:'none'},container:{id:'box-container',label:'box-container',isParent:!0},label:'hour-box',id:'hour-box'}),f+=DEFAULT_INPUT_BOX_WIDTH,a.addGraphicalElement({el:'html',attr:{x:f+3,y:c.y,type:'label',text:SEMICOLON},component:a,css:b.style,container:{id:'box-container',label:'box-container',isParent:!0},label:'semicolon-minute',id:'semicolon-minute'}),f+=DEFAULT_PADDING,a.addGraphicalElement({el:'html',attr:{x:f,y:c.y-d.height/DIV_FACTOR,type:'select',innerHTML:getOptionsString(59,e.minutes)},component:a,css:{fontSize:g['font-size'],fontFamily:g['font-family'],border:'0',outline:'1px solid #efefef',"outline-offset":'-1px',color:g.color,width:DEFAULT_INPUT_BOX_WIDTH+PXSTRING,height:DEFAULT_INPUT_BOX_HEIGHT+PXSTRING+' !important',padding:isIE11?'0px':'5px',background:SELECT_BG_IMAGE,"-webkit-appearance":'none',"-moz-appearance":'none',"-o-appearance":'none',appearance:'none'},container:{id:'box-container',label:'box-container',isParent:!0},label:'minute-box',id:'minute-box'}),f+=DEFAULT_INPUT_BOX_WIDTH,a.addGraphicalElement({el:'html',attr:{x:f+3,y:c.y,type:'label',text:SEMICOLON},component:a,css:b.style,container:{id:'box-container',label:'box-container',isParent:!0},label:'semicolon-second',id:'semicolon-second'}),f+=DEFAULT_PADDING,a.addGraphicalElement({el:'html',attr:{x:f,y:c.y-d.height/DIV_FACTOR,type:'select',innerHTML:getOptionsString(59,e.seconds)},component:a,css:{fontSize:g['font-size'],fontFamily:g['font-family'],border:'0',outline:'1px solid #efefef',"outline-offset":'-1px',color:g.color,width:DEFAULT_INPUT_BOX_WIDTH+PXSTRING,height:DEFAULT_INPUT_BOX_HEIGHT+PXSTRING+' !important',padding:isIE11?'0px':'5px',background:SELECT_BG_IMAGE,"-webkit-appearance":'none',"-moz-appearance":'none',"-o-appearance":'none',appearance:'none'},container:{id:'box-container',label:'box-container',isParent:!0},label:'second-box',id:'second-box'})}}export default TimeBox;