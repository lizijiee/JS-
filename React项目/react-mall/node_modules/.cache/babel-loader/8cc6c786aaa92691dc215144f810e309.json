{"ast":null,"code":"import _classCallCheck from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport { SmartRenderer } from '../../component-interface';\nimport { POINTER, PXSTRING, pluckNumber } from '../../lib/';\nimport MenuItem from './menu-item';\nimport { DEFAULT_TIMEOUT } from './helper';\nimport { addDep } from '../../../../fc-core/src/dependency-manager';\nvar AUTO = 'auto',\n    BLOCK = 'block',\n    NONE = 'none';\n\nfunction createMenuItem(a) {\n  var b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var c, d, e, f;\n  if (d = a.attachChild(MenuItem, 'item', b.id), d.configure(b), b.menu instanceof Array && (f = b.menu.length)) for (c = d.attachChild(MenuItemContainer, 'subContainer', 'subContainer'), a.config.hasSubMenu = !0, c.configure(), e = 0; e < f; e++) {\n    c.addItem(b.menu[e]);\n  }\n}\n\naddDep({\n  name: 'manuItemContainerAnimation',\n  type: 'animationRule',\n  extension: {\n    \"*.menuItemContainer.menuItemContainer\": null\n  }\n});\n\nvar MenuItemContainer =\n/*#__PURE__*/\nfunction (_SmartRenderer) {\n  _inherits(MenuItemContainer, _SmartRenderer);\n\n  function MenuItemContainer() {\n    _classCallCheck(this, MenuItemContainer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MenuItemContainer).apply(this, arguments));\n  }\n\n  _createClass(MenuItemContainer, [{\n    key: \"configureAttributes\",\n    value: function configureAttributes() {\n      var a = this,\n          b = a.config;\n      a.setStyle(), b.counter = 0, b.hasSubMenu = !1, b._defaultStyle = {\n        position: 'absolute',\n        \"z-index\": 50,\n        top: 0 + PXSTRING,\n        right: AUTO,\n        left: AUTO,\n        overflow: 'hidden',\n        background: '#ffffff',\n        border: '1px solid #646464',\n        \"box-shadow\": '#999999 2px 2px 5px',\n        padding: '5px 3px',\n        display: 'none'\n      };\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle() {\n      var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var b = this,\n          c = b.config;\n      c.hoverOverStyle = a.hoverOverStyle || {\n        background: '#333333',\n        color: '#FFFFFF',\n        cursor: POINTER\n      }, c.hoverOutStyle = a.hoverOutStyle || {\n        background: '#FFFFFF',\n        color: '#000000'\n      };\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      var a,\n          b = this,\n          c = b.config,\n          d = b.getFromEnv('chart'),\n          e = b.getLinkedParent(),\n          f = e.config,\n          g = {\n        x: f.x,\n        y: f.y,\n        width: f.width,\n        height: f.height\n      },\n          h = +d.getFromEnv('chartWidth'),\n          i = b.getGraphicalElement('menu', 'menu').element,\n          j = i.style;\n      clearTimeout(c.hideTimer), j.display = 'block', a = i.offsetWidth, a + g.x > h ? (j.left = AUTO, j.right = h - g.x - g.width + PXSTRING) : (j.left = g.x + PXSTRING, j.right = AUTO), j.top = g.y + 1.5 * g.height + PXSTRING, j.bottom = AUTO, j.display = BLOCK;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var b,\n          c = this,\n          d = c.config,\n          e = c.getGraphicalElement('menu', 'menu').element;\n      a.instant ? e.style.display = NONE : (b = pluckNumber(a.timeout, DEFAULT_TIMEOUT), d.hideTimer = setTimeout(function () {\n        e.style.display = NONE;\n      }, b));\n    }\n  }, {\n    key: \"addItem\",\n    value: function addItem() {\n      var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      createMenuItem(this, a);\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var a = this,\n          b = a.config;\n      a.addGraphicalElement({\n        el: 'html',\n        attr: {\n          type: 'div'\n        },\n        css: b._defaultStyle,\n        component: a,\n        label: 'menu',\n        id: 'menu'\n      }), a.addEventListener('mouseover', this.show), a.addEventListener('mouseout', this.hide);\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      return 'menuItemContainer';\n    }\n  }, {\n    key: \"getType\",\n    value: function getType() {\n      return 'menuItemContainer';\n    }\n  }]);\n\n  return MenuItemContainer;\n}(SmartRenderer);\n\nexport default MenuItemContainer;","map":null,"metadata":{},"sourceType":"module"}