{"ast":null,"code":"import _classCallCheck from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport { SmartRenderer } from '../../../fc-core/src/component-interface';\nimport { pluckNumber } from '../../../fc-core/src/lib';\nimport AnnotationGroup from './shapes/annotation-group';\nimport CircleAnnotation from './shapes/annotation-circle';\nimport PathAnnotation from './shapes/annotation-path';\nimport RectAnnotation from './shapes/annotation-rect';\nimport PolygonAnnotation from './shapes/annotation-polygon';\nimport ImageAnnotation from './shapes/annotation-image';\nimport TextAnnotation from './shapes/annotation-text';\nvar shapeMap = {\n  circle: CircleAnnotation,\n  arc: CircleAnnotation,\n  line: PathAnnotation,\n  path: PathAnnotation,\n  rectangle: RectAnnotation,\n  polygon: PolygonAnnotation,\n  image: ImageAnnotation,\n  text: TextAnnotation\n};\n\nvar AnnotationController =\n/*#__PURE__*/\nfunction (_SmartRenderer) {\n  _inherits(AnnotationController, _SmartRenderer);\n\n  function AnnotationController() {\n    _classCallCheck(this, AnnotationController);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(AnnotationController).apply(this, arguments));\n  }\n\n  _createClass(AnnotationController, [{\n    key: \"createItem\",\n    value: function createItem(a, b) {\n      var c,\n          d,\n          e = this;\n      if ('group' === a.annotationType) a.groupXShift = pluckNumber(a.groupXShift, this.config.groupXShift), a.groupYShift = pluckNumber(a.groupYShift, this.config.groupYShift), c = e.attachChild(AnnotationGroup, 'group', a.id), e.config.lastCreatedGroup = c;else {\n        if (d = a.type && a.type.toLowerCase(), c = b.attachChild(shapeMap[d], 'item', a.id), !c) return;\n        e.config.lastCreatedItem = c;\n      }\n      return c._setToStore('component', a.component), c.configure(a), c;\n    }\n  }, {\n    key: \"retrieveItem\",\n    value: function retrieveItem(a, b) {\n      var c, d, e;\n\n      for (e in this.groups) {\n        if (c = this.groups[e].retrieveItem(a, b), c) {\n          d = c;\n          break;\n        }\n      }\n\n      return d;\n    }\n  }, {\n    key: \"retrieveGroup\",\n    value: function retrieveGroup(a, b) {\n      var c,\n          d,\n          e = this;\n      if (b) e.detachChild(a);else for (c = 0, d = e.groups.length; c < d; c++) {\n        if (e.groups[c].getId() === a) return e.groups[c];\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show(a) {\n      var b;\n      a ? (b = this.retrieveItem(a) || this.retrieveGroup(a), b && b.show()) : this.groups.forEach(function (a) {\n        a.show(), a.items.forEach(function (a) {\n          a.show();\n        });\n      });\n    }\n  }, {\n    key: \"hide\",\n    value: function hide(a) {\n      var b;\n      a ? (b = this.retrieveItem(a) || this.retrieveGroup(a), b && b.hide()) : this.groups.forEach(function (a) {\n        a.hide(), a.items.forEach(function (a) {\n          a.hide();\n        });\n      });\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      var a,\n          b,\n          c,\n          d,\n          e,\n          f,\n          g = this,\n          h = g.config;\n\n      if (h.groups) {\n        for (c = h.groups.length, a = c - 1; 0 <= a; a--) {\n          for (e = h.groups[a], d = e.items && e.items.length, b = d - 1; 0 <= b; b--) {\n            f = e.items[b], f && f.dispose();\n          }\n\n          e.items = [], e.dispose();\n        }\n\n        h.groups = [];\n      }\n    }\n  }, {\n    key: \"disposeConfiguration\",\n    value: function disposeConfiguration() {\n      var a = this,\n          b = a.config;\n      b.parsedConfigs = [], b.groups = [];\n    }\n  }]);\n\n  return AnnotationController;\n}(SmartRenderer);\n\nexport default AnnotationController;","map":null,"metadata":{},"sourceType":"module"}