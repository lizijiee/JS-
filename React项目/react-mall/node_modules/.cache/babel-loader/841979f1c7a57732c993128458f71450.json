{"ast":null,"code":"import _classCallCheck from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport { ComponentInterface } from '../../../fc-core/src/component-interface';\n\nvar _updateDependancyObj = function _updateDependancyObj(a, b, c, d) {\n  var e, f;\n  (f = d[a]) && (f.some(function (a, d) {\n    if (a.callback === b && a.component === c) return e = d, !0;\n  }), e !== void 0 && f.splice(e, 1));\n};\n\nvar InputManager =\n/*#__PURE__*/\nfunction (_ComponentInterface) {\n  _inherits(InputManager, _ComponentInterface);\n\n  function InputManager() {\n    _classCallCheck(this, InputManager);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(InputManager).apply(this, arguments));\n  }\n\n  _createClass(InputManager, [{\n    key: \"configure\",\n    value: function configure() {\n      var a = this,\n          b = a.getFromEnv('chart'),\n          c = b.getInputConfigurations;\n      a.addToEnv('canvas', a.getLinkedParent()), a.addToEnv('inputOptions', c && c.call(b)), a.config = {\n        controlObj: {},\n        dependancyObj: {}\n      };\n    }\n  }, {\n    key: \"addEventToChild\",\n    value: function addEventToChild() {\n      var a = this,\n          b = a.getChildren(),\n          c = ['zoomin', 'zoomout', 'dragzoomenabled', 'dragzoomdisabled', 'pinenabled', 'pindisabled', 'panenabled', 'pandisabled'];\n\n      var _loop = function _loop(d) {\n        c.forEach(function (c) {\n          a.addExtEventListener(c, a.manageEvents.bind(a), b[d][0]);\n        });\n      };\n\n      for (var d in b) {\n        _loop(d);\n      }\n    }\n  }, {\n    key: \"manageEvents\",\n    value: function manageEvents(a) {\n      var b = this.config.dependancyObj,\n          c = a.type;\n      b[c] && b[c].forEach(function (b) {\n        b.component !== a.sender && b.callback.call(b.component, a);\n      });\n    }\n  }, {\n    key: \"fetchZoomableAxes\",\n    value: function fetchZoomableAxes() {\n      var a = this;\n\n      if (!a.config.axesObArr) {\n        var b = a.config.axesObArr = [];\n        a.getLinkedParent().getAxes().forEach(function (a) {\n          (a.config.zoomable || a.config.pannable) && b.push({\n            axis: a.axis,\n            stack: [],\n            isY: a.isY\n          });\n        }), a.addToEnv('axesObArr', b);\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var a = this;\n      a.fetchZoomableAxes(), a.addEventToChild();\n    }\n  }, {\n    key: \"getControl\",\n    value: function getControl(a, b) {\n      var c,\n          d,\n          e = this,\n          f = e.config.controlObj,\n          g = e.getLinkedParent();\n      b || a.forEach(function (a) {\n        c = a.nativeInteraction, c instanceof Array ? c.forEach(function (b) {\n          d = f[b] || (f[b] = []), d.push({\n            callback: a.callback,\n            component: a.component\n          }), a.component.addExtEventListener(b, a.callback, g);\n        }) : (d = f[c] || (f[c] = []), d.push({\n          callback: a.callback,\n          component: a.component\n        }), a.component.addExtEventListener(c, a.callback, g));\n      });\n    }\n  }, {\n    key: \"releaseControl\",\n    value: function releaseControl(a) {\n      var b,\n          c = this,\n          d = c.getLinkedParent();\n      a.forEach(function (a) {\n        b = a.nativeInteraction, b instanceof Array ? b.forEach(function (b) {\n          a.component.removeExtEventListener(b, a.callback, d), _updateDependancyObj(b, a.callback, a.component, c.config.controlObj);\n        }) : (a.component.removeExtEventListener(b, a.callback, d), _updateDependancyObj(b, a.callback, a.component, c.config.controlObj));\n      });\n    }\n  }, {\n    key: \"_updateControlObj\",\n    value: function _updateControlObj(a, b) {\n      var c,\n          d,\n          e = this.config.controlObj;\n      (d = e[a]) && (d.some(function (a, d) {\n        if (a.callback === b) return c = d, !0;\n      }), c !== void 0 && d.splice(c, 1));\n    }\n  }, {\n    key: \"registerDependancy\",\n    value: function registerDependancy(a) {\n      var b,\n          c,\n          d = this,\n          e = d.config.dependancyObj;\n      a.forEach(function (a) {\n        b = a.derivedInteraction, b instanceof Array ? b.forEach(function (b) {\n          c = e[b] || (e[b] = []), c.push({\n            callback: a.callback,\n            component: a.component,\n            derivedInteraction: b\n          });\n        }) : (c = e[b] || (e[b] = []), c.push(a));\n      });\n    }\n  }, {\n    key: \"removeDependancy\",\n    value: function removeDependancy(a) {\n      var b,\n          c = this;\n      a.forEach(function (a) {\n        b = a.derivedInteraction, b instanceof Array ? b.forEach(function (b) {\n          _updateDependancyObj(b, a.callback, a.component, c.config.dependancyObj);\n        }) : _updateDependancyObj(b, a.callback, a.component, c.config.dependancyObj);\n      });\n    }\n  }, {\n    key: \"zoomOut\",\n    value: function zoomOut() {\n      var a = this.getChildren('ZoomOutButton');\n      a && a[0].zoomOut();\n    }\n  }, {\n    key: \"zoomTo\",\n    value: function zoomTo(a, b) {\n      var c = this.getChildren('DragZoomIn');\n      c && c[0].zoomTo(a, b);\n    }\n  }, {\n    key: \"resetChart\",\n    value: function resetChart() {\n      var a = this.getChildren('ZoomResetButton');\n      a && a[0].zoomOut();\n    }\n  }, {\n    key: \"setZoomMode\",\n    value: function setZoomMode(a) {\n      var b = this.getChildren('DragPin');\n      b && (a ? b[0].disable() : b[0].enable());\n    }\n  }]);\n\n  return InputManager;\n}(ComponentInterface);\n\nexport default InputManager;","map":null,"metadata":{},"sourceType":"module"}