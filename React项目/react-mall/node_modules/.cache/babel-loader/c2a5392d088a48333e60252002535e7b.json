{"ast":null,"code":"import _classCallCheck from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport { SmartRenderer } from '../../../../fc-core/src/component-interface';\nimport { pluck, hiddenStr, pluckNumber } from '../../../../fc-core/src/lib';\nimport { isMacro, solveEquation, parseEquation, cleanMacro, getScaledVal } from '../utils';\n\nvar AnnotationBase =\n/*#__PURE__*/\nfunction (_SmartRenderer) {\n  _inherits(AnnotationBase, _SmartRenderer);\n\n  function AnnotationBase() {\n    var _this;\n\n    var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, AnnotationBase);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AnnotationBase).call(this)), 'string' == typeof a && _this.setId(a), _this.rawConfig = JSON.parse(JSON.stringify(a)), _this.store = {};\n    return _this;\n  }\n\n  _createClass(AnnotationBase, [{\n    key: \"getType\",\n    value: function getType() {\n      return this._getConfig('type');\n    }\n  }, {\n    key: \"_setToStore\",\n    value: function _setToStore(a, b) {\n      this.store[a] = b;\n    }\n  }, {\n    key: \"_getFromStore\",\n    value: function _getFromStore(a) {\n      return this.store[a];\n    }\n  }, {\n    key: \"_setConfig\",\n    value: function _setConfig(a, b) {\n      this.config[a] = b;\n    }\n  }, {\n    key: \"_getConfig\",\n    value: function _getConfig() {\n      var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      return '' === a ? this.config : this.config[a];\n    }\n  }, {\n    key: \"getElement\",\n    value: function getElement() {\n      var a = this,\n          b = a.config;\n      return this.getGraphicalElement(b.id, b.animationLabel);\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds() {\n      return this.getElement().getBBox();\n    }\n  }, {\n    key: \"data\",\n    value: function data(a, b) {\n      var c = this;\n      if (a && 'string' == typeof a) if (void 0 !== b) c._data || (c._data = {}), c._data[a] = b;else return c._data && c._data[a];\n    }\n  }, {\n    key: \"parseAndSetAttribute\",\n    value: function parseAndSetAttribute() {\n      var a,\n          b,\n          c = this,\n          d = c.rawConfig,\n          e = c.getFromEnv('snapPoints'),\n          f = pluckNumber(d.autoscale, d.autoScale, 1),\n          g = {\n        x: pluck(d.x, d.xPos, 0),\n        y: pluck(d.y, d.yPos, 0),\n        toX: pluck(d.toX),\n        toY: pluck(d.toY)\n      },\n          h = c.config.calculatedAttrs = {},\n          i = c.getScaleInfo();\n\n      for (var j in g) {\n        g.hasOwnProperty(j) && (b = g[j], 'undefined' != typeof b && (b = b.toString(), i.axis = j, isMacro(b) ? h[j] = solveEquation(parseEquation(cleanMacro(b.toLowerCase()), e, i)) : (h[j] = solveEquation(parseEquation(cleanMacro(b.toLowerCase()), e)), f && (h[j] = getScaledVal(h[j], i)))));\n      }\n\n      'group' !== c.config.elementType && (a = c.getLinkedParent().config.calculatedAttrs, h.x += a.x || 0, h.y += a.y || 0, isNaN(+h.toX) ? h.toX = h.x : h.toX += a.x || 0, !isNaN(+h.toY) && (h.toY += a.y || 0)), c.updateAttr();\n    }\n  }, {\n    key: \"getAttribute\",\n    value: function getAttribute() {\n      var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      return '' === a ? this.rawConfig : this.rawConfig[a];\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      var a = this;\n      a.addGraphicalElement({\n        el: a.config.elementType,\n        attr: {\n          visibility: hiddenStr\n        },\n        component: a,\n        container: a.config.containerConfiguration,\n        id: a.config.id,\n        label: a.config.animationLabel\n      });\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var a = this;\n      a.addGraphicalElement({\n        el: a.config.elementType,\n        attr: {\n          visibility: hiddenStr\n        },\n        component: a,\n        container: a.config.containerConfiguration,\n        id: a.config.id,\n        label: a.config.animationLabel\n      });\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      var a,\n          b = this._getFromStore('originalComponent'),\n          c = b.retrieveItem(this.config.id, !0);\n\n      c && (a = b.getGraphicalElement(this.config.id), a && b.removeGraphicalElement(a));\n    }\n  }]);\n\n  return AnnotationBase;\n}(SmartRenderer);\n\nexport default AnnotationBase;","map":null,"metadata":{},"sourceType":"module"}