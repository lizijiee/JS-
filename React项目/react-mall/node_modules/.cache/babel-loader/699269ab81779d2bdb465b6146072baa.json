{"ast":null,"code":"import _classCallCheck from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _assertThisInitialized from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _getPrototypeOf from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/get\";\nimport _inherits from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport ComponentBase, { addAllEventsOnGraphic, removeAllEventsFromGraphic, _mapSubFnForward } from './component-base';\n\nvar UNDEF,\n    addEventOnAllGraphics = function addEventOnAllGraphics(a, b, c) {\n  var d;\n  b && c && (d = function d(a) {\n    a.on && a.on(b, c);\n  }, _mapSubFnForward(a.getGraphicalElement(), d), _mapSubFnForward(a.getChildContainer(), d));\n},\n    removeEventFromAllGraphics = function removeEventFromAllGraphics(a, b, c) {\n  var d;\n  b && c && (d = function d(a) {\n    a.off && a.off(b, c);\n  }, _mapSubFnForward(a.getGraphicalElement(), d), _mapSubFnForward(a.getChildContainer(), d));\n};\n\nvar ComponentInterface =\n/*#__PURE__*/\nfunction (_ComponentBase) {\n  _inherits(ComponentInterface, _ComponentBase);\n\n  function ComponentInterface() {\n    var _this;\n\n    _classCallCheck(this, ComponentInterface);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ComponentInterface).call(this));\n\n    var a = _assertThisInitialized(_this);\n\n    a._components = {}, a.fireEvent('instantiated'), a.__setDefaultConfig();\n    return _this;\n  }\n\n  _createClass(ComponentInterface, [{\n    key: \"addGraphicalElement\",\n    value: function addGraphicalElement(a, b, c, d) {\n      var e = this._graphics;\n      return c = c || !1, b && (c ? (e[a] === UNDEF && (e[a] = []), d ? e[a][d] = b : e[a].push(b)) : (e[a] = b, this.fireEvent('graphicalelementattached', {\n        element: b\n      })), addAllEventsOnGraphic(b, this._middleListeners, this)), b;\n    }\n  }, {\n    key: \"removeGraphicalElement\",\n    value: function removeGraphicalElement(a) {\n      var b,\n          c = this,\n          d = c._graphics;\n      _mapSubFnForward(d, function (e, f, g) {\n        e === a && (b = !0, removeAllEventsFromGraphic(e, c._middleListeners), c._setRemoveAnim(e, f), g === UNDEF ? delete d[f] : d[f].splice(g, 1));\n      }), b && this.fireEvent('graphicalelementremoved', {\n        element: a\n      });\n    }\n  }, {\n    key: \"getGraphicalElement\",\n    value: function getGraphicalElement(a) {\n      return 'undefined' == typeof a ? this._graphics : this._graphics[a];\n    }\n  }, {\n    key: \"addChildContainer\",\n    value: function addChildContainer(a, b) {\n      var c = this,\n          d = c._childContainers;\n      return b && (d === UNDEF && (d = c._childContainers = {}), d[a] = b, addAllEventsOnGraphic(b, c._middleListeners, c)), b;\n    }\n  }, {\n    key: \"removeChildContainer\",\n    value: function removeChildContainer(a) {\n      var b = this,\n          c = b._childContainers;\n      c && c[a] && (removeAllEventsFromGraphic(c[a], b._middleListeners), b._setRemoveAnim(c[a], a), delete c[a]);\n    }\n  }, {\n    key: \"getChildContainer\",\n    value: function getChildContainer(a) {\n      return this._childContainers === UNDEF && (this._childContainers = {}), a ? this._childContainers[a] : this._childContainers;\n    }\n  }, {\n    key: \"addContainer\",\n    value: function addContainer(a, b) {\n      var c = this._containers;\n      return b && (c === UNDEF && (c = this._containers = {}), c[a] = b), b;\n    }\n  }, {\n    key: \"removeContainer\",\n    value: function removeContainer(a) {\n      var b = this,\n          c = b._containers;\n      c && c[a] && (b._setRemoveAnim(c[a], a), delete c[a]);\n    }\n  }, {\n    key: \"getContainer\",\n    value: function getContainer(a) {\n      return this._containers === UNDEF && (this._containers = {}), a ? this._containers[a] : this._containers;\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(a, b, c) {\n      var d = _get(_getPrototypeOf(ComponentInterface.prototype), \"addEventListener\", this).call(this, a, b, c);\n\n      return !0 === d ? (addEventOnAllGraphics(this, a, this._middleListeners[a]), b) : !!d && b;\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(a, b) {\n      _get(_getPrototypeOf(ComponentInterface.prototype), \"removeEventListener\", this).call(this, a, b) && removeEventFromAllGraphics(this, a, this._middleListeners[a]);\n    }\n  }, {\n    key: \"_dispose\",\n    value: function _dispose() {\n      var a,\n          b = this;\n\n      if (_get(_getPrototypeOf(ComponentInterface.prototype), \"_dispose\", this).call(this)) {\n        for (a in b.getFromEnv('paper') && !b.getFromEnv('paper').removed && (_mapSubFnForward(b.getChildContainer(), b.__instantRemoveFn), _mapSubFnForward(b.getGraphicalElement(), b.__instantRemoveFn), _mapSubFnForward(b.getContainer(), b.__instantRemoveFn)), b) {\n          b.hasOwnProperty(a) && delete b[a];\n        }\n\n        b.fireEvent('removed');\n      }\n    }\n  }, {\n    key: \"removingDraw\",\n    value: function removingDraw() {\n      var a = this;\n      _mapSubFnForward(a.getChildContainer(), a._setRemoveAnim), _mapSubFnForward(a.getGraphicalElement(), a._setRemoveAnim), _mapSubFnForward(a.getContainer(), a._setRemoveAnim);\n    }\n  }, {\n    key: \"attachChild\",\n    value: function attachChild(a, b, c) {\n      var d = b || a.getType(),\n          e = this._components;\n      return !1 === c ? e[d] = a : (!(e[d] && e[d] instanceof Array) && (e[d] = []), e[d].push(a)), a._setLinkedParent(this), this.fireEvent('childattached', {\n        attachedChild: a\n      }), a;\n    }\n  }, {\n    key: \"getChild\",\n    value: function getChild(a) {\n      var b,\n          c = this._components;\n      return a === UNDEF ? c : (this._searchChildren(a, function (a) {\n        b = a;\n      }), b);\n    }\n  }, {\n    key: \"_searchChildren\",\n    value: function _searchChildren(a, b) {\n      var c,\n          d,\n          e,\n          f = this._components;\n\n      for (d in f) {\n        if (f.hasOwnProperty(d)) if (c = f[d], c.constructor === Array) {\n          for (e = c.length - 1; 0 <= e; e--) {\n            if (c[e].getId && c[e].getId() === a) return b(c[e], e, c);\n          }\n        } else if (c.getId && c.getId() === a) return b(d, UNDEF, f);\n      }\n    }\n  }, {\n    key: \"getChildren\",\n    value: function getChildren(a) {\n      return a ? this._components[a] : this._components;\n    }\n  }]);\n\n  return ComponentInterface;\n}(ComponentBase);\n\nexport default ComponentInterface;","map":null,"metadata":{},"sourceType":"module"}