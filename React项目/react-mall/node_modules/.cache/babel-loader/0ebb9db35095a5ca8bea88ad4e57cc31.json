{"ast":null,"code":"import { getArrayCopy } from \"../raphael.lib\";\nexport default (function (a) {\n  function b(a, g) {\n    var h,\n        k = d,\n        m = getArrayCopy(arguments),\n        n = Array.prototype.slice.call(m, 2),\n        o = b.listeners(a),\n        p = 0,\n        q = [],\n        r = {},\n        s = [],\n        t = c;\n    s.firstDefined = f, s.lastDefined = j, c = a, d = 0;\n\n    for (var u = 0, v = o.length; u < v; u++) {\n      \"zIndex\" in o[u] && (q.push(o[u].zIndex), 0 > o[u].zIndex && (r[o[u].zIndex] = o[u]));\n    }\n\n    for (q.sort(e); 0 > q[p];) {\n      if (h = r[q[p++]], s.push(h.apply(g, n)), d) return d = k, s;\n    }\n\n    for (u = 0; u < v; u++) {\n      if (h = o[u], \"zIndex\" in h) {\n        if (h.zIndex == q[p]) {\n          if (s.push(h.apply(g, n)), d) break;\n\n          do {\n            if (p++, h = r[q[p]], h && s.push(h.apply(g, n)), d) break;\n          } while (h);\n        } else r[h.zIndex] = h;\n      } else if (s.push(h.apply(g, n)), d) break;\n    }\n\n    return d = k, c = t, s;\n  }\n\n  var c,\n      d,\n      g = /[\\.\\/]/,\n      h = /\\s*,\\s*/,\n      e = function e(c, a) {\n    return c - a;\n  },\n      l = {\n    n: {}\n  },\n      f = function f() {\n    for (var a = 0, b = this.length; a < b; a++) {\n      if (\"undefined\" != typeof this[a]) return this[a];\n    }\n  },\n      j = function j() {\n    for (var a = this.length; --a;) {\n      if (\"undefined\" != typeof this[a]) return this[a];\n    }\n  },\n      i = Object.prototype.toString,\n      k = String,\n      m = Array.isArray || function (a) {\n    return a instanceof Array || \"[object Array]\" == i.call(a);\n  };\n\n  return b._events = l, b.listeners = function (a) {\n    var b,\n        c,\n        d,\n        f,\n        h,\n        n,\n        o,\n        p,\n        q = m(a) ? a : a.split(g),\n        r = l,\n        s = [r],\n        t = [];\n\n    for (f = 0, h = q.length; f < h; f++) {\n      for (p = [], n = 0, o = s.length; n < o; n++) {\n        for (r = s[n].n, c = [r[q[f]], r[\"*\"]], d = 2; d--;) {\n          b = c[d], b && (p.push(b), t = t.concat(b.f || []));\n        }\n      }\n\n      s = p;\n    }\n\n    return t;\n  }, b.separator = function (a) {\n    a ? (a = k(a).replace(/(?=[\\.\\^\\]\\[\\-])/g, \"\\\\\"), a = \"[\" + a + \"]\", g = new RegExp(a)) : g = /[\\.\\/]/;\n  }, b.on = function (a, b) {\n    if (\"function\" != typeof b) return function () {};\n\n    for (var c = m(a) ? m(a[0]) ? a : [a] : k(a).split(h), d = 0, e = c.length; d < e; d++) {\n      (function (a) {\n        for (var c, d = m(a) ? a : k(a).split(g), f = l, h = 0, j = d.length; h < j; h++) {\n          f = f.n, f = f.hasOwnProperty(d[h]) && f[d[h]] || (f[d[h]] = {\n            n: {}\n          });\n        }\n\n        for (f.f = f.f || [], h = 0, j = f.f.length; h < j; h++) {\n          if (f.f[h] == b) {\n            c = !0;\n            break;\n          }\n        }\n\n        c || f.f.push(b);\n      })(c[d]);\n    }\n\n    return function (a) {\n      +a == +a && (b.zIndex = +a);\n    };\n  }, b.f = function (a) {\n    var c = getArrayCopy(arguments),\n        d = [].slice.call(c, 1);\n    return function () {\n      b.apply(null, [a, null].concat(d).concat([].slice.call(c, 0)));\n    };\n  }, b.stop = function () {\n    d = 1;\n  }, b.nt = function (a) {\n    var b = m(c) ? c.join(\".\") : c;\n    return a ? new RegExp(\"(?:\\\\.|\\\\/|^)\" + a + \"(?:\\\\.|\\\\/|$)\").test(b) : b;\n  }, b.nts = function () {\n    return m(c) ? c : c.split(g);\n  }, b.off = b.unbind = function (a, c) {\n    if (!a) return void (b._events = l = {\n      n: {}\n    });\n    var d = m(a) ? m(a[0]) ? a : [a] : k(a).split(h);\n\n    if (1 < d.length) {\n      for (var f = 0, n = d.length; f < n; f++) {\n        b.off(d[f], c);\n      }\n\n      return;\n    }\n\n    d = m(a) ? a : k(a).split(g);\n    var o,\n        p,\n        q,\n        f,\n        n,\n        r,\n        s,\n        t = [l],\n        u = [];\n\n    for (f = 0, n = d.length; f < n; f++) {\n      for (r = 0; r < t.length; r += q.length - 2) {\n        if (q = [r, 1], o = t[r].n, \"*\" != d[f]) o[d[f]] && (q.push(o[d[f]]), u.unshift({\n          n: o,\n          name: d[f]\n        }));else for (p in o) {\n          o.hasOwnProperty(p) && (q.push(o[p]), u.unshift({\n            n: o,\n            name: p\n          }));\n        }\n        t.splice.apply(t, q);\n      }\n    }\n\n    for (f = 0, n = t.length; f < n; f++) {\n      for (o = t[f]; o.n;) {\n        if (c) {\n          if (o.f) {\n            for (r = 0, s = o.f.length; r < s; r++) {\n              if (o.f[r] == c) {\n                o.f.splice(r, 1);\n                break;\n              }\n            }\n\n            o.f.length || delete o.f;\n          }\n\n          for (p in o.n) {\n            if (o.n.hasOwnProperty(p) && o.n[p].f) {\n              var v = o.n[p].f;\n\n              for (r = 0, s = v.length; r < s; r++) {\n                if (v[r] == c) {\n                  v.splice(r, 1);\n                  break;\n                }\n              }\n\n              v.length || delete o.n[p].f;\n            }\n          }\n        } else for (p in delete o.f, o.n) {\n          o.n.hasOwnProperty(p) && o.n[p].f && delete o.n[p].f;\n        }\n\n        o = o.n;\n      }\n    }\n\n    prune: for (f = 0, n = u.length; f < n; f++) {\n      for (p in o = u[f], o.n[o.name].f) {\n        continue prune;\n      }\n\n      for (p in o.n[o.name].n) {\n        continue prune;\n      }\n\n      delete o.n[o.name];\n    }\n  }, b.once = function (a, c) {\n    var d = function d() {\n      return b.off(a, d), c.apply(this, arguments);\n    };\n\n    return b.on(a, d);\n  }, b.version = \"0.5.3\", b.toString = function () {\n    return \"You are running Eve 0.5.3\";\n  }, a.eve = b, b;\n})(\"undefined\" == typeof window ? \"undefined\" == typeof global ? null : global : window);","map":null,"metadata":{},"sourceType":"module"}