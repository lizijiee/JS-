{"ast":null,"code":"import _regeneratorRuntime from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\src\\\\components\\\\Content\\\\Person\\\\Clerk\\\\Clerk.js\";\nimport React, { Component } from 'react';\nimport { Button, Pagination, Form, Modal } from 'antd';\nimport IconFont from '../../../../iconfont/font';\nimport { Link, withRouter } from 'react-router-dom';\nimport './Clerk.less';\nvar confirm = Modal.confirm;\nvar FormItem = Form.Item;\n\nvar Temp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Temp, _Component);\n\n  function Temp() {\n    var _this;\n\n    _classCallCheck(this, Temp);\n\n    //构造函数\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Temp).call(this));\n    _this.state = {\n      data: '',\n      listItems: '',\n      current: 1 // date:\"\"\n\n    };\n    return _this;\n  }\n\n  _createClass(Temp, [{\n    key: \"getData\",\n    value: function getData() {\n      var _this2 = this;\n\n      //请求数据函数\n      fetch(\"http://localhost:2000/pers/clerks\", {\n        method: 'GET'\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        _this2.setState(_objectSpread({}, data));\n      });\n    }\n  }, {\n    key: \"EditClick\",\n    value: function () {\n      var _EditClick = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(index, link) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // e.preventDefault();\n                console.log(index); // pathname:'/pers/clerksDetails?num='+index,\n                // state:this.state.data[0].ClerkData.filter(e=>e.num==index)\n                // let vcode =[{aa:1}]\n\n                _context.next = 3;\n                return this.props.history.push({\n                  pathname: \"/pers/clerksDetails\",\n                  state: this.state.data[0].ClerkData.filter(function (e) {\n                    return e.num == index;\n                  }),\n                  search: '?num=' + index\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function EditClick(_x, _x2) {\n        return _EditClick.apply(this, arguments);\n      }\n\n      return EditClick;\n    }()\n  }, {\n    key: \"ClerksInfo\",\n    value: function ClerksInfo() {\n      var _this3 = this;\n\n      if (this.state.data) {\n        console.log(this.state.data); // 过滤例子： [32, 33, 16, 40].filter((a)=> a<40&a>20) \n        // 根据页码渲染当前页\n        // 把数据length传入底部页码组件,一共几页根据组件内设置每页items数量,自动生成\n\n        this.state.listItems = this.state.data[0].ClerkData.filter(function (e) {\n          return e.num >= 1 + 5 * (_this3.state.current - 1) && e.num <= 5 * _this3.state.current;\n        }).map(function (ele) {\n          return React.createElement(\"tr\", {\n            key: ele.num,\n            id: ele.num,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          }, ele.num), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }, ele.name), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }, ele.sex), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, ele.cardNum), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }, ele.age), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          }, ele.birthday), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }, ele.state), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63\n            },\n            __self: this\n          }, ele.jobTitle), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          }, ele.hiredate), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          }, React.createElement(Button, {\n            type: \"primary\",\n            size: \"small\" // href={`/pers/clerksDetails?num=${ele.num}`}\n            ,\n            ghost: \"true\",\n            onClick: _this3.EditClick.bind(_this3, ele.num),\n            style: {\n              marginRight: 10,\n              fontSize: 13,\n              width: 60,\n              height: 25,\n              borderRadius: 5\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74\n            },\n            __self: this\n          }, \"\\u7F16\\u8F91\")), React.createElement(Button, {\n            type: \"primary\",\n            size: \"small\",\n            style: {\n              fontSize: 13,\n              width: 60,\n              height: 25,\n              borderRadius: 5\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          }, \"\\u5220\\u9664\")));\n        });\n        return React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, this.state.listItems);\n      }\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      //挂载前,请求数据函数\n      this.getData();\n    }\n  }, {\n    key: \"ChangePage\",\n    value: function ChangePage(page) {\n      //<Pagination/>组件自带回调函数\n      this.setState({\n        current: page\n      }, function () {// 使用setState的 \"回调函数\" 解决异步问题\n      }); // setState为异步  上面console以后 => setState为异步 => 先执行下面console \n      // 解决this.setState可能会引发不必要的渲染(renders) \n      // https://www.cnblogs.com/lgp142332/p/7270047.html\n    }\n    /* \r\n       问题：首次render也符合return中的判断,导致不渲染了;\r\n      shouldComponentUpdate(nextProps, nextState){ \r\n       解决this.setState可能引发不必要的渲染;\r\n       导致初始render也不渲染了;\r\n         return this.state.page !== nextState.page;\r\n    } \r\n    */\n\n  }, {\n    key: \"handleSearchClick\",\n    value: function handleSearchClick(e) {\n      console.log(e);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      //分页组件提取出来，先进行一步数据是否获得到的判断，因为render渲染多次，前几次没有数据\n      var Page = null;\n      var data = this.state.data;\n\n      if (data) {\n        Page = React.createElement(Pagination, {\n          defaultCurrent: 1,\n          pageSize: 5,\n          total: data[0].ClerkData.length,\n          onChange: this.ChangePage.bind(this),\n          style: {\n            marginRight: 30,\n            marginTop: 25,\n            float: \"right\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"section\", {\n        className: \"clerk-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"app-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"el-serch-wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"el-title-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(IconFont, {\n        type: \"mall-doc-glass\",\n        style: {\n          fontSize: 16,\n          marginRight: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"\\u7B5B\\u9009\\u68C0\\u7D22\"), React.createElement(Button, {\n        className: \"btn\",\n        onClick: this.handleSearchClick.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"\\u67E5\\u8BE2\\u7ED3\\u679C\")), React.createElement(FormItem, {\n        className: \"el-form-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"\\u8F93\\u5165\\u68C0\\u7D22:\"), React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u59D3\\u540D\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"el-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"el-title-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(IconFont, {\n        type: \"mall-doc-list\",\n        style: {\n          fontSize: 16,\n          marginRight: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"\\u6570\\u636E\\u5217\\u8868\"), React.createElement(\"button\", {\n        className: \"add\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"\\u6DFB\\u52A0\\u4EBA\\u5458\\u4FE1\\u606F\"))), React.createElement(\"main\", {\n        className: \"table-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        cellPadding: \"0\",\n        cellSpacing: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"\\u5DE5\\u53F7\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"\\u59D3\\u540D\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"\\u6027\\u522B\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"\\u51FA\\u751F\\u5E74\\u6708\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \"\\u5E74\\u9F84\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"\\u5165\\u804C\\u65F6\\u95F4\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"\\u804C\\u4F4D\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"\\u72B6\\u6001\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"\\u64CD\\u4F5C\"))), this.ClerksInfo())), Page));\n    }\n  }]);\n\n  return Temp;\n}(Component);\n\nexport default withRouter(Temp); // export default Temp","map":{"version":3,"sources":["F:\\App Store\\Coding\\Github_Download\\JS-\\React项目\\react-mall\\src\\components\\Content\\Person\\Clerk\\Clerk.js"],"names":["React","Component","Button","Pagination","Form","Modal","IconFont","Link","withRouter","confirm","FormItem","Item","Temp","state","data","listItems","current","fetch","method","then","res","json","setState","index","link","console","log","props","history","push","pathname","ClerkData","filter","e","num","search","map","ele","name","sex","cardNum","age","birthday","jobTitle","hiredate","EditClick","bind","marginRight","fontSize","width","height","borderRadius","getData","page","Page","length","ChangePage","marginTop","float","handleSearchClick","ClerksInfo"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Button, Pagination,Form,Modal } from 'antd';\r\nimport IconFont from '../../../../iconfont/font';\r\nimport { Link,withRouter} from 'react-router-dom';\r\nimport './Clerk.less';\r\n\r\nconst confirm = Modal.confirm;\r\nconst FormItem = Form.Item; \r\n\r\n class Temp extends Component {\r\n  constructor() { //构造函数\r\n    super();\r\n    this.state = {\r\n      data: '',\r\n      listItems: '',\r\n      current: 1,\r\n      // date:\"\"\r\n    }\r\n  }\r\n  getData() { //请求数据函数\r\n    fetch(`http://localhost:2000/pers/clerks`, {\r\n      method: 'GET'\r\n    })\r\n      .then(res => res.json()).then(\r\n        data => {\r\n          this.setState({ ...data })\r\n        })\r\n  }\r\nasync EditClick(index,link){\r\n      // e.preventDefault();\r\n      console.log(index);\r\n         // pathname:'/pers/clerksDetails?num='+index,\r\n        // state:this.state.data[0].ClerkData.filter(e=>e.num==index)\r\n        // let vcode =[{aa:1}]\r\n     await this.props.history.push({ \r\n          pathname: \"/pers/clerksDetails\", \r\n          state: this.state.data[0].ClerkData.filter(e=>e.num==index),\r\n          search:'?num='+index\r\n         });\r\n      // this.props.history.push('/pers/clerksDetails?num='+index);\r\n      // this.props.history.push('/pers/clerksDetails?num='+index);\r\n      // this.props.location.state=1111\r\n      // console.log(this.props)\r\n  }\r\n  ClerksInfo() {\r\n    if (this.state.data) {\r\n      console.log(this.state.data)\r\n      // 过滤例子： [32, 33, 16, 40].filter((a)=> a<40&a>20) \r\n\r\n      // 根据页码渲染当前页\r\n      // 把数据length传入底部页码组件,一共几页根据组件内设置每页items数量,自动生成\r\n      this.state.listItems = this.state.data[0].ClerkData.filter((e) =>\r\n        e.num >= 1 + 5 * (this.state.current - 1) && e.num <= 5 * this.state.current\r\n      ).map((ele) =>\r\n        <tr key={ele.num} id={ele.num}>\r\n          <td>{ele.num}</td>\r\n          <td>{ele.name}</td>\r\n          <td>{ele.sex}</td>\r\n          <td>{ele.cardNum}</td>\r\n          <td>{ele.age}</td>\r\n          <td>{ele.birthday}</td>\r\n          <td>{ele.state}</td>\r\n          <td>{ele.jobTitle}</td>\r\n          <td>{ele.hiredate}</td>\r\n          <td>\r\n            <Button \r\n            type=\"primary\" \r\n            size=\"small\" \r\n            // href={`/pers/clerksDetails?num=${ele.num}`}\r\n            ghost=\"true\"\r\n            onClick={this.EditClick.bind(this,ele.num)}\r\n            style={{ marginRight: 10, fontSize: 13, width: 60, height: 25, borderRadius: 5 }}\r\n            >\r\n                 <span>编辑</span>\r\n            </Button>\r\n            <Button \r\n            type=\"primary\" \r\n            size=\"small\" \r\n            style={{ fontSize: 13, width: 60, height: 25, borderRadius: 5 }}\r\n            >删除</Button>\r\n          </td>\r\n        </tr>)\r\n      return (<tbody>{this.state.listItems}</tbody>)\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    //挂载前,请求数据函数\r\n    this.getData();\r\n  }\r\n  ChangePage(page) {//<Pagination/>组件自带回调函数\r\n    this.setState({ current: page }, () => { // 使用setState的 \"回调函数\" 解决异步问题\r\n     \r\n     })\r\n     // setState为异步  上面console以后 => setState为异步 => 先执行下面console \r\n\r\n    // 解决this.setState可能会引发不必要的渲染(renders) \r\n    // https://www.cnblogs.com/lgp142332/p/7270047.html\r\n  }\r\n  /* \r\n     问题：首次render也符合return中的判断,导致不渲染了;\r\n\r\n  shouldComponentUpdate(nextProps, nextState){ \r\n     解决this.setState可能引发不必要的渲染;\r\n     导致初始render也不渲染了;\r\n\r\n     return this.state.page !== nextState.page;\r\n  } \r\n  */\r\n handleSearchClick(e){\r\n    console.log(e)\r\n }\r\n\r\n\r\n  render() {\r\n     //分页组件提取出来，先进行一步数据是否获得到的判断，因为render渲染多次，前几次没有数据\r\n    let Page = null;\r\n    let { data } = this.state;\r\n    if (data) {\r\n        Page = <Pagination\r\n        defaultCurrent={1}\r\n        pageSize={5}\r\n        total={data[0].ClerkData.length}\r\n        onChange={this.ChangePage.bind(this)}\r\n        style={{\r\n          marginRight: 30, marginTop: 25, float: \"right\"\r\n        }} />\r\n    }\r\n    return (\r\n      <section className=\"clerk-info\">\r\n        {/*   员工信息组件  */}\r\n        <div className=\"app-container\">\r\n          <div className=\"el-serch-wrap\">\r\n            <div className=\"el-title-body\">\r\n            <Form>\r\n            <FormItem>\r\n                <IconFont type=\"mall-doc-glass\" style={{ fontSize: 16, marginRight: 5 }} />\r\n                <span>筛选检索</span>\r\n                <Button \r\n                className=\"btn\" onClick={this.handleSearchClick.bind(this)}>查询结果</Button>\r\n              </FormItem>\r\n              <FormItem className=\"el-form-item\">\r\n                 <span>输入检索:</span>\r\n                <input type=\"text\" placeholder=\"请输入姓名\">\r\n                </input>\r\n               </FormItem>\r\n              </Form>\r\n            </div>\r\n          </div>\r\n          <div className=\"el-title\">\r\n            <div className=\"el-title-body\">\r\n              <IconFont type=\"mall-doc-list\" style={{ fontSize: 16, marginRight: 5 }} />\r\n              <span>数据列表</span>\r\n              <button className=\"add\">添加人员信息</button>\r\n            </div>\r\n          </div>\r\n          <main className=\"table-container\">\r\n            <table cellPadding=\"0\" cellSpacing=\"0\">\r\n              <thead>\r\n                <tr>\r\n                  <th>工号</th>\r\n                  <th>姓名</th>\r\n                  <th>性别</th>\r\n                  <th>身份证号</th>\r\n                  <th>出生年月</th>\r\n                  <th>年龄</th>\r\n                  <th>入职时间</th>\r\n                  <th>职位</th>\r\n                  <th>状态</th>\r\n                  <th>操作</th>\r\n                </tr>\r\n              </thead>\r\n              {this.ClerksInfo()}\r\n            </table>\r\n          </main>\r\n          {Page}\r\n        </div>\r\n      </section>\r\n    )\r\n  }\r\n}\r\nexport default withRouter(Temp)\r\n// export default Temp"]},"metadata":{},"sourceType":"module"}