{"ast":null,"code":"import lib from './lib';\nvar slLib = lib.init(window),\n    doc = slLib.win.document,\n    documentSupport = slLib.getDocumentSupport(),\n    SVG_BBOX_CORRECTION = documentSupport.isWebKit ? 0 : 4.5;\n\nfunction ContainerManager(a, b, c) {\n  var d;\n  c = 5 < c ? c : 5, c = 20 > c ? c : 20, this.maxContainers = c, this.first = null, this.last = null, this.containers = {}, this.length = 0, this.rootNode = a, b && (d = doc.createElementNS('http://www.w3.org/2000/svg', 'svg'), d.setAttributeNS('http://www.w3.org/2000/svg', 'xlink', 'http://www.w3.org/1999/xlink'), d.setAttributeNS('http://www.w3.org/2000/svg', 'height', '0'), d.setAttributeNS('http://www.w3.org/2000/svg', 'width', '0'), this.svgRoot = d, this.rootNode.appendChild(d));\n}\n\nContainerManager.prototype.get = function (a) {\n  var b,\n      c,\n      d,\n      e = this.containers,\n      f = this.length,\n      g = this.maxContainers,\n      h = '';\n\n  for (c in slLib.supportedStyle) {\n    void 0 !== a[c] && (h += slLib.supportedStyle[c] + ':' + a[c] + ';');\n  }\n\n  if (!h) return !1;\n  if (d = e[h]) this.first !== d && (d.prev && (d.prev.next = d.next), d.next && (d.next.prev = d.prev), d.next = this.first, d.next.prev = d, this.last === d && (this.last = d.prev), d.prev = null, this.first = d);else {\n    if (f >= g) for (b = f - g + 1; b--;) {\n      this.removeContainer(this.last);\n    }\n    d = this.addContainer(h);\n  }\n  return d;\n}, ContainerManager.prototype._makeDivNode = function (a) {\n  var b,\n      c = a.keyStr;\n  a.node || (a.node = doc.createElement('div'), a.node.className = 'fusioncharts-div', this.rootNode.appendChild(a.node)), b = a.node, documentSupport.isIE && !documentSupport.hasSVG ? b.style.setAttribute('cssText', c) : b.setAttribute('style', c), b.setAttribute('aria-hidden', 'true'), b.setAttribute('role', 'presentation'), b.style.display = 'inline-block', b.innerHTML = slLib.testStrAvg, a.lineHeight = b.offsetHeight, a.avgCharWidth = b.offsetWidth / 3, documentSupport.isBrowserLess ? (!a.svgText && (a.svgText = doc.createElementNS('http://www.w3.org/2000/svg', 'text'), this.svgRoot.appendChild(b)), b = a.svgText, b.setAttribute('style', c), b.textContent = slLib.testStrAvg, a.lineHeight = b.getBBox().height, a.avgCharWidth = (b.getBBox().width - SVG_BBOX_CORRECTION) / 3, b.textContent = '...', a.ellipsesWidth = b.getBBox().width - SVG_BBOX_CORRECTION, b.textContent = '.', a.dotWidth = b.getBBox().width - SVG_BBOX_CORRECTION) : (b.innerHTML = '...', a.ellipsesWidth = b.offsetWidth, b.innerHTML = '.', a.dotWidth = b.offsetWidth, b.innerHTML = '');\n}, ContainerManager.prototype.addContainer = function (a) {\n  var b;\n  return this.containers[a] = b = {\n    next: null,\n    prev: null,\n    node: null,\n    ellipsesWidth: 0,\n    lineHeight: 0,\n    dotWidth: 0,\n    avgCharWidth: 4,\n    keyStr: a,\n    charCache: {}\n  }, b.next = this.first, b.next && (b.next.prev = b), this.first = b, this.last || (this.last = b), this.length += 1, b;\n}, ContainerManager.prototype.removeContainer = function (a) {\n  var b = a.keyStr;\n  b && this.length && a && (this.length -= 1, a.prev && (a.prev.next = a.next), a.next && (a.next.prev = a.prev), this.first === a && (this.first = a.next), this.last === a && (this.last = a.prev), a.node && a.node.parentNode.removeChild(a.node), delete this.containers[b]);\n}, ContainerManager.prototype.dispose = function () {\n  var a,\n      b = this.containers;\n\n  for (a in this.maxContainers = null, b) {\n    this.removeContainer(b[a]);\n  }\n\n  this.rootNode.parentNode.removeChild(this.rootNode), this.rootNode = null, this.first = null, this.last = null;\n};\nexport default ContainerManager;","map":null,"metadata":{},"sourceType":"module"}