{"ast":null,"code":"import _defineProperty from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\src\\\\components\\\\Content\\\\Food\\\\List\\\\EditClick\\\\Step\\\\StepTwo.js\";\nimport React, { Component } from 'react';\nimport { Form, Input, Select, Upload, Icon, Modal, Switch, InputNumber, Row, Col } from 'antd';\nimport './Add.less';\nvar FormItem = Form.Item;\nvar Option = Select.Option;\n\nvar Temp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Temp, _Component);\n\n  function Temp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Temp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Temp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      previewVisible: false,\n      //控制Modal是否显示（modal控制图片显示）\n      fileList: [] //设置默认上传内容\n\n    };\n\n    _this.handleCancel = function () {\n      return _this.setState({\n        previewVisible: false\n      });\n    };\n\n    _this.handlePreview = function (file) {\n      _this.setState({\n        previewImage: file.url || file.thumbUrl,\n        previewVisible: true\n      });\n    };\n\n    _this.handleChange = function (_ref) {\n      var fileList = _ref.fileList;\n      return _this.setState({\n        fileList: fileList\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Temp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log();\n      var _this$props$state$sto = this.props.state.storeData,\n          spuId = _this$props$state$sto.spuId,\n          spuName = _this$props$state$sto.spuName,\n          bigImageUrl = _this$props$state$sto.bigImageUrl,\n          littleImageUrl = _this$props$state$sto.littleImageUrl;\n      this.setState({\n        fileList: [{\n          uid: \"-\" + spuId,\n          name: spuName + '.png',\n          status: 'done',\n          url: littleImageUrl\n        }]\n      }, function () {\n        console.log(_this2.state.fileList);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props$props$for = this.props.props.form,\n          getFieldProps = _this$props$props$for.getFieldProps,\n          getFieldError = _this$props$props$for.getFieldError,\n          isFieldValidating = _this$props$props$for.isFieldValidating,\n          getFieldDecorator = _this$props$props$for.getFieldDecorator;\n      var data = this.props.state.data;\n      var storeData = this.props.state.storeData;\n      var categoryTag = [\"折扣\", \"热销\", \"推荐\"]; // const categoryFilter = Object.values(categoryName).filter((ele) => ele != \"折扣\" && ele != \"热销\" && ele != \"推荐\")\n\n      var formItemLayout = {\n        //样式\n        labelCol: {\n          span: 7\n        },\n        wrapperCol: {\n          span: 12\n        }\n      };\n      var buttonsLayout = {\n        //样式\n        labelCol: {\n          span: 7\n        }\n      };\n      var countProps = getFieldProps('count', {\n        //textarea 为ID\n        initialValue: storeData.count,\n        rules: [{\n          pattern: new RegExp(/^\\d(\\.\\d+)?$/, \"g\"),\n          message: '请输入合理折扣数字'\n        }]\n      });\n      var _this$state = this.state,\n          previewVisible = _this$state.previewVisible,\n          previewImage = _this$state.previewImage,\n          fileList = _this$state.fileList;\n      var uploadButton = //添加 控制 按钮\n      React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"ant-upload-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \" Upload \"), \" \");\n      return React.createElement(Form, {\n        style: {\n          marginBottom: 40\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n        layout: \"inline\",\n        label: \"\\u63A8\\u8350\\u7C7B\\u578B\",\n        style: {\n          fontSize: 15,\n          color: \"rgba(0, 0, 0, 0.9)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), categoryTag.map(function (item, index) {\n        return React.createElement(Form.Item, Object.assign({\n          key: item\n        }, buttonsLayout, {\n          style: _defineProperty({\n            fontSize: 15,\n            color: \"rgba(0, 0, 0, 0.9)\",\n            float: \"left\",\n            overflow: \"hiddden\",\n            width: 90\n          }, \"fontSize\", 14),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }), \" \", React.createElement(\"span\", {\n          style: {\n            marginLeft: index === 0 ? 5 : null,\n            marginRight: 8\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, \" \", item, \" \"), \" \", getFieldDecorator('switch1', {\n          valuePropName: 'checked',\n          initialValue: \"checked\"\n        })(React.createElement(Switch, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        })), \" \");\n      }), \" \"), React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        label: \"\\u83DC\\u54C1\\u6298\\u6263\\uFF1A\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }), React.createElement(InputNumber, Object.assign({\n        style: {\n          width: 320,\n          fontSize: 13\n        },\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u83DC\\u54C1\\u6298\\u6263\\uFF0C\\u4F8B\\u5982\\uFF1A1\\u6298\\u6263=1\"\n      }, countProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      })), \" \"), React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        label: \"\\u83DC\\u54C1\\u9500\\u552E\\u91CF\\uFF1A\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }), getFieldDecorator('saleVolume', {\n        initialValue: storeData.saleVolume\n      })(React.createElement(Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      })), \" \"), React.createElement(FormItem, Object.assign({\n        label: \"\\u83DC\\u54C1\\u5E93\\u5B58\\uFF1A\"\n      }, formItemLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }), \" \", getFieldDecorator('realStock', {\n        initialValue: storeData.realStock\n      })(React.createElement(Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      })), \" \"), \" \", React.createElement(FormItem, Object.assign({\n        label: \"\\u5F53\\u65E5\\u5E93\\u5B58\\uFF1A\"\n      }, formItemLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }), \" \", getFieldDecorator('activityStock', {\n        initialValue: storeData.activityStock\n      })(React.createElement(Input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      })), \" \"), React.createElement(FormItem, Object.assign({\n        label: \"\\u83DC\\u54C1\\u5C55\\u793A\\uFF1A\",\n        style: {\n          marginBottom: -10\n        }\n      }, formItemLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }), getFieldDecorator('upload', {\n        valuePropName: 'checked',\n        initialValue: data.upload\n      })(React.createElement(\"div\", {\n        className: \"clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(Upload // action=\"//jsonplaceholder.typicode.com/posts/\"\n      , {\n        listType: \"picture-card\",\n        fileList: fileList //\n        ,\n        onPreview: this.handlePreview //点击文件链接或预览图标时的回调\n        ,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, fileList.length >= 1 ? null : uploadButton, \" \"), \" \", React.createElement(Modal, {\n        visible: previewVisible,\n        footer: null,\n        onCancel: this.handleCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"example\",\n        style: {\n          width: '100%'\n        },\n        src: previewImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }), \" \"), \" \")), \" \"));\n    }\n  }]);\n\n  return Temp;\n}(Component);\n\nexport { Temp as default };","map":{"version":3,"sources":["F:\\App Store\\Coding\\Github_Download\\JS-\\React项目\\react-mall\\src\\components\\Content\\Food\\List\\EditClick\\Step\\StepTwo.js"],"names":["React","Component","Form","Input","Select","Upload","Icon","Modal","Switch","InputNumber","Row","Col","FormItem","Item","Option","Temp","state","previewVisible","fileList","handleCancel","setState","handlePreview","file","previewImage","url","thumbUrl","handleChange","console","log","props","storeData","spuId","spuName","bigImageUrl","littleImageUrl","uid","name","status","form","getFieldProps","getFieldError","isFieldValidating","getFieldDecorator","data","categoryTag","formItemLayout","labelCol","span","wrapperCol","buttonsLayout","countProps","initialValue","count","rules","pattern","RegExp","message","uploadButton","marginBottom","fontSize","color","map","item","index","float","overflow","width","marginLeft","marginRight","valuePropName","saleVolume","realStock","activityStock","upload","length"],"mappings":"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","sourcesContent":["import React, {\r\n  Component\r\n} from 'react'\r\nimport {\r\n  Form,\r\n  Input,\r\n  Select,\r\n  Upload,\r\n  Icon,\r\n  Modal,\r\n  Switch,\r\n  InputNumber,\r\n  Row,\r\n  Col\r\n} from 'antd';\r\n\r\nimport './Add.less';\r\n\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\n\r\nexport default class Temp extends Component {\r\n  state = {\r\n    previewVisible: false, //控制Modal是否显示（modal控制图片显示）\r\n    fileList: [], //设置默认上传内容\r\n  };\r\n  handleCancel = () => this.setState({\r\n    previewVisible: false\r\n  })\r\n  componentDidMount() {\r\n    console.log()\r\n    const {\r\n      spuId,\r\n      spuName,\r\n      bigImageUrl,\r\n      littleImageUrl\r\n    } = this.props.state.storeData\r\n    this.setState({\r\n      fileList: [{\r\n        uid: \"-\" + spuId,\r\n        name: spuName + '.png',\r\n        status: 'done',\r\n        url: littleImageUrl,\r\n      }],\r\n    }, () => {\r\n      console.log(this.state.fileList)\r\n    })\r\n  }\r\n\r\n  handlePreview = (file) => {\r\n    this.setState({\r\n      previewImage: file.url || file.thumbUrl,\r\n      previewVisible: true,\r\n    });\r\n  }\r\n\r\n  handleChange = ({\r\n    fileList\r\n  }) => this.setState({\r\n    fileList\r\n  })\r\n\r\n\r\n  render() {\r\n    const {\r\n      getFieldProps,\r\n      getFieldError,\r\n      isFieldValidating,\r\n      getFieldDecorator\r\n    } = this.props.props.form;\r\n    const data = this.props.state.data;\r\n    const storeData = this.props.state.storeData;\r\n    const categoryTag = [\"折扣\", \"热销\", \"推荐\"]\r\n    // const categoryFilter = Object.values(categoryName).filter((ele) => ele != \"折扣\" && ele != \"热销\" && ele != \"推荐\")\r\n\r\n    const formItemLayout = { //样式\r\n      labelCol: {\r\n        span: 7\r\n      },\r\n      wrapperCol: {\r\n        span: 12\r\n      },\r\n    };\r\n    const buttonsLayout = { //样式\r\n      labelCol: {\r\n        span: 7\r\n      },\r\n    };\r\n\r\n    const countProps = getFieldProps('count', { //textarea 为ID\r\n      initialValue: storeData.count,\r\n      rules: [{\r\n        pattern: new RegExp(/^\\d(\\.\\d+)?$/, \"g\"),\r\n        message: '请输入合理折扣数字'\r\n      }]\r\n    });\r\n\r\n\r\n    const {\r\n      previewVisible,\r\n      previewImage,\r\n      fileList\r\n    } = this.state;\r\n    const uploadButton = ( //添加 控制 按钮\r\n      <\r\n      div >\r\n      <\r\n      Icon type = \"plus\" / >\r\n      <\r\n      div className = \"ant-upload-text\" > Upload < /div> <\r\n      /div>\r\n    );\r\n\r\n    return ( <\r\n      Form style = {\r\n        {\r\n          marginBottom: 40\r\n        }\r\n      } >\r\n      <\r\n      Form.Item {\r\n        ...formItemLayout\r\n      }\r\n      layout = \"inline\"\r\n      label = \"推荐类型\"\r\n      style = {\r\n        {\r\n          fontSize: 15,\r\n          color: \"rgba(0, 0, 0, 0.9)\"\r\n        }\r\n      } >\r\n      {\r\n        categoryTag.map((item, index) =>\r\n          <\r\n          Form.Item key = {\r\n            item\r\n          } {\r\n            ...buttonsLayout\r\n          }\r\n          style = {\r\n            {\r\n              fontSize: 15,\r\n              color: \"rgba(0, 0, 0, 0.9)\",\r\n              float: \"left\",\r\n              overflow: \"hiddden\",\r\n              width: 90,\r\n              fontSize: 14,\r\n            }\r\n          } >\r\n          {\r\n            /* style={{display: (index===this.state.currentIndex) ? \"block\" : \"none\", color:\"red\"}}> */ } <\r\n          span style = {\r\n            {\r\n              marginLeft: (index === 0) ? 5 : null,\r\n              marginRight: 8\r\n            }\r\n          } > {\r\n            item\r\n          } < /span> {\r\n            getFieldDecorator('switch1', {\r\n              valuePropName: 'checked',\r\n              initialValue: \"checked\"\r\n            })( <\r\n              Switch / >\r\n            )\r\n          } <\r\n          /Form.Item>\r\n        )\r\n      } <\r\n      /Form.Item>\r\n\r\n      <\r\n      FormItem {\r\n        ...formItemLayout\r\n      }\r\n      label = \"菜品折扣：\" >\r\n      <\r\n      InputNumber style = {\r\n        {\r\n          width: 320,\r\n          fontSize: 13\r\n        }\r\n      }\r\n      placeholder = \"请输入菜品折扣，例如：1折扣=1\" {\r\n        ...countProps\r\n      }\r\n      /> <\r\n      /FormItem>\r\n\r\n      <\r\n      FormItem {\r\n        ...formItemLayout\r\n      }\r\n      label = \"菜品销售量：\" >\r\n      {\r\n        getFieldDecorator('saleVolume', {\r\n          initialValue: storeData.saleVolume,\r\n        })( <\r\n          Input / >\r\n        )\r\n      } <\r\n      /FormItem>\r\n\r\n      <\r\n      FormItem label = \"菜品库存：\" {\r\n        ...formItemLayout\r\n      } >\r\n      {\r\n        /* require 代表前面的 * 符号 */ } {\r\n        getFieldDecorator('realStock', {\r\n          initialValue: storeData.realStock,\r\n        })( <\r\n          Input / >\r\n        )\r\n      } <\r\n      /FormItem> <\r\n      FormItem label = \"当日库存：\" {\r\n        ...formItemLayout\r\n      } >\r\n      {\r\n        /* require 代表前面的 * 符号 */ } {\r\n        getFieldDecorator('activityStock', {\r\n          initialValue: storeData.activityStock,\r\n        })( <\r\n          Input / >\r\n        )\r\n      } <\r\n      /FormItem>\r\n\r\n      <\r\n      FormItem label = \"菜品展示：\"\r\n      style = {\r\n        {\r\n          marginBottom: -10\r\n        }\r\n      } {\r\n        ...formItemLayout\r\n      } >\r\n      {\r\n        getFieldDecorator('upload', {\r\n          valuePropName: 'checked',\r\n          initialValue: data.upload,\r\n        })( <\r\n          div className = \"clearfix\" >\r\n          <\r\n          Upload\r\n          // action=\"//jsonplaceholder.typicode.com/posts/\"\r\n          listType = \"picture-card\"\r\n          fileList = {\r\n            fileList\r\n          } //\r\n          onPreview = {\r\n            this.handlePreview\r\n          } //点击文件链接或预览图标时的回调\r\n          onChange = {\r\n            this.handleChange\r\n          } >\r\n          {\r\n            fileList.length >= 1 ? null : uploadButton\r\n          } <\r\n          /Upload> <\r\n          Modal visible = {\r\n            previewVisible\r\n          }\r\n          footer = {\r\n            null\r\n          }\r\n          onCancel = {\r\n            this.handleCancel\r\n          } >\r\n          <\r\n          img alt = \"example\"\r\n          style = {\r\n            {\r\n              width: '100%'\r\n            }\r\n          }\r\n          src = {\r\n            previewImage\r\n          }\r\n          /> <\r\n          /Modal> <\r\n          /div>\r\n        )\r\n      } <\r\n      /FormItem>\r\n\r\n      <\r\n      /Form >\r\n    )\r\n  }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}