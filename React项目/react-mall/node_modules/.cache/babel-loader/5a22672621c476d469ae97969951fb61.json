{"ast":null,"code":"import { getArrayCopy } from \"./raphael.lib\";\nexport default function (g) {\n  if (g.vml) {\n    var b = function b(a, _b) {\n      var c = _b.src,\n          d = a._.group,\n          e = a.node;\n      a._.RefImg || (a._.RefImg = new Image());\n      void 0 === _b.src || (a._.RefImg.src = c);\n    };\n\n    var a,\n        e = String,\n        h = parseFloat,\n        c = Math,\n        i = c.round,\n        d = c.max,\n        j = c.min,\n        k = c.sqrt,\n        l = c.abs,\n        m = /[, ]+/,\n        n = g.eve,\n        p = Array.prototype.shift,\n        o = g._g.doc,\n        q = o.createElement(\"div\"),\n        r = {\n      M: \"m\",\n      L: \"l\",\n      C: \"c\",\n      Z: \"x\",\n      m: \"t\",\n      l: \"r\",\n      c: \"v\",\n      z: \"x\"\n    },\n        s = /([clmz]),?([^clmz]*)/gi,\n        t = / progid:\\S+Blur\\([^\\)]+\\)/g,\n        u = /-?[^,\\s-]+/g,\n        v = {\n      path: 1,\n      rect: 1,\n      image: 1\n    },\n        w = {\n      circle: 1,\n      ellipse: 1\n    },\n        z = function z(a) {\n      var b = /[ahqstv]/ig,\n          c = g._pathToAbsolute;\n\n      if (e(a).match(b) && (c = g._path2curve), b = /[clmz]/g, c == g._pathToAbsolute && !e(a).match(b)) {\n        var d = e(a).replace(s, function (a, b, c) {\n          var d = [],\n              e = \"m\" == b.toLowerCase(),\n              f = r[b];\n          return c.replace(u, function (a) {\n            e && 2 == d.length && (f += d + r[\"m\" == b ? \"l\" : \"L\"], d = []), d.push(i(21600 * a));\n          }), f + d;\n        });\n        return d || \"m0,0\";\n      }\n\n      var f,\n          h,\n          k = c(a);\n      d = [];\n\n      for (var l = 0, m = k.length; l < m; l++) {\n        f = k[l], h = k[l][0].toLowerCase(), \"z\" == h && (h = \"x\");\n\n        for (var n = 1, o = f.length; n < o; n++) {\n          h += i(21600 * f[n]) + (n == o - 1 ? \"\" : \",\");\n        }\n\n        d.push(h);\n      }\n\n      return d.length ? d.join(\" \") : \"m0,0\";\n    },\n        A = function A(a, b, c) {\n      var d = g.matrix();\n      return d.rotate(-a, .5, .5), {\n        dx: d.x(b, c),\n        dy: d.y(b, c)\n      };\n    },\n        B = function B(a, b, d, e, f, g) {\n      var h = a._,\n          i = a.matrix,\n          j = h.fillpos,\n          k = a.node,\n          m = k.style,\n          n = 1,\n          o = \"\",\n          p = 21600 / b,\n          q = 21600 / d;\n\n      if (m.visibility = \"hidden\", b && d) {\n        if (k.coordsize = l(p) + \" \" + l(q), m.rotation = g * (0 > b * d ? -1 : 1), g) {\n          var r = A(g, e, f);\n          e = r.dx, f = r.dy;\n        }\n\n        if (0 > b && (o += \"x\"), 0 > d && (o += \" y\") && (n = -1), m.flip = o, k.coordorigin = e * -p + \" \" + f * -q, j || h.fillsize) {\n          var s = k.getElementsByTagName(\"fill\");\n          s = s && s[0], s && (k.removeChild(s), j && (r = A(g, i.x(j[0], j[1]), i.y(j[0], j[1])), s.position = r.dx * n + \" \" + r.dy * n), h.fillsize && (s.size = h.fillsize[0] * l(b) + \" \" + h.fillsize[1] * l(d)), k.appendChild(s));\n        }\n\n        m.visibility = \"visible\";\n      }\n    };\n\n    q.innerHTML = \"<v:shape adj=\\\"1\\\"/>\", a = q.firstChild, a.style.behavior = \"url(#default#VML)\", a && \"object\" == typeof a.adj || (g.type = \"\"), q = null, g._url = \"\", g.toString = function () {\n      return \"Your browser doesn\\u2019t support SVG. Falling down to VML.\\nYou are running Rapha\\xEBl \" + this.version;\n    };\n\n    var C = function C(a, b) {\n      for (var c in b) {\n        n(\"raphael.attr.\" + c + \".\" + a.id, a, b[c], c), a.ca[c] && a.attr(c, b[c]);\n      }\n    },\n        D = [\"font\", \"line-height\", \"font-family\", \"font-weight\", \"font-style\", \"font-size\"],\n        E = function E(a) {\n      for (var b, c, d, e = {}, f = D.length; a.paper && a.paper.canvas;) {\n        for (d = a.attrs, b = !0, c = 0; c < f; c++) {\n          e[D[c]] || (e[D[c]] = d[D[c]], b = !1);\n        }\n\n        if (b) break;\n        a = a.parent;\n      }\n\n      return e;\n    },\n        F = g._setFillAndStroke = function (c, f) {\n      if (c.paper.canvas) {\n        c.attrs = c.attrs || {};\n        var k,\n            l = c.node,\n            n = c.attrs,\n            a = l.style,\n            o = v[c.type] && (f.x != n.x || f.y != n.y || f.width != n.width || f.height != n.height || f.cx != n.cx || f.cy != n.cy || f.rx != n.rx || f.ry != n.ry || f.r != n.r),\n            p = w[c.type] && (n.cx != f.cx || n.cy != f.cy || n.r != f.r || n.rx != f.rx || n.ry != f.ry),\n            q = \"group\" === c.type,\n            r = c;\n\n        for (var t in k = r.oriOp || (r.oriOp = {}), f) {\n          if (\"\" === f[t]) {\n            l.removeAttribute(t), delete n[t], delete f[t];\n            continue;\n          } else f.hasOwnProperty(t) && (n[t] = f[t]);\n        }\n\n        if (o && (n.path = g._getPath[c.type](c), c._.dirty = 1), f.href && (l.href = f.href), f.title && (l.title = f.title), f.target && (l.target = f.target), f.cursor && (a.cursor = f.cursor), \"blur\" in f && c.blur(f.blur), (f.path && \"path\" == c.type || o) && (l.path = z(~e(n.path).toLowerCase().indexOf(\"r\") ? g._pathToAbsolute(n.path) : n.path), \"image\" == c.type && (c._.fillpos = [n.x, n.y], c._.fillsize = [n.width, n.height], B(c, 1, 1, 0, 0, 0))), \"transform\" in f && c.transform(f.transform), \"rotation\" in f) {\n          var u = f.rotation;\n          g.is(u, \"array\") ? c.rotate.apply(c, u) : c.rotate(u);\n        }\n\n        if (\"visibility\" in f && (\"hidden\" === f.visibility ? c.hide() : c.show()), p) {\n          var A = +n.cx,\n              C = +n.cy,\n              D = +n.rx || +n.r || 0,\n              F = +n.ry || +n.r || 0;\n          l.path = g.format(\"ar{0},{1},{2},{3},{4},{1},{4},{1}x\", i(21600 * (A - D)), i(21600 * (C - F)), i(21600 * (A + D)), i(21600 * (C + F)), i(21600 * A));\n        }\n\n        if (\"clip-rect\" in f) {\n          var G = e(f[\"clip-rect\"]).split(m);\n\n          if (4 == G.length) {\n            G[0] = +G[0], G[1] = +G[1], G[2] = +G[2] + G[0], G[3] = +G[3] + G[1];\n            var I,\n                J = q ? l : l.clipRect || g._g.doc.createElement(\"div\"),\n                L = J.style;\n            q ? (c.clip = G.slice(), I = c.matrix.offset(), I = [h(I[0]), h(I[1])], G[0] -= I[0], G[1] -= I[1], G[2] -= I[0], G[3] -= I[1], L.width = \"1px\", L.height = \"1px\") : !l.clipRect && (L.top = \"0\", L.left = \"0\", L.width = c.paper.width + \"px\", L.height = c.paper.height + \"px\", l.parentNode.insertBefore(J, l), J.appendChild(l), J.raphael = !0, J.raphaelid = l.raphaelid, l.clipRect = J), L.position = \"absolute\", L.clip = g.format(\"rect({1}px {2}px {3}px {0}px)\", G);\n          }\n\n          f[\"clip-rect\"] || (q && c.clip ? (l.style.clip = \"rect(0px 10800px 10800px 0px)\", delete c.clip) : l.clipRect && (l.clipRect.style.clip = \"rect(0px 10800px 10800px 0px)\"));\n        }\n\n        if (\"shape-rendering\" in f && (l.style.antialias = \"crisp\" !== f[\"shape-rendering\"]), c.textpath || q) {\n          var M = q ? l.style : c.textpath.style;\n          f.font && (M.font = f.font), f[\"font-family\"] && (M.fontFamily = \"\\\"\" + f[\"font-family\"].split(\",\")[0].replace(/^['\"]+|['\"]+$/g, \"\") + \"\\\"\"), f[\"font-size\"] && (M.fontSize = f[\"font-size\"]), f[\"font-weight\"] && (M.fontWeight = f[\"font-weight\"]), f[\"font-style\"] && (M.fontStyle = f[\"font-style\"]);\n        }\n\n        if (\"arrow-start\" in f && g.addArrow && g.addArrow(r, f[\"arrow-start\"]), \"arrow-end\" in f && g.addArrow && g.addArrow(r, f[\"arrow-end\"], 1), null != f.opacity || null != f[\"stroke-width\"] || null != f.fill || null != f.src || null != f.stroke || null != f[\"stroke-width\"] || null != f[\"stroke-opacity\"] || null != f[\"fill-opacity\"] || null != f[\"stroke-dasharray\"] || null != f[\"stroke-miterlimit\"] || null != f[\"stroke-linejoin\"] || null != f[\"stroke-linecap\"]) {\n          var N = l.getElementsByTagName(\"fill\"),\n              O = !1,\n              P = -1;\n\n          if (N = N && N[0], N || (O = N = K(\"fill\")), \"image\" == c.type && f.src && (b(c, f), N.src = f.src), f.fill && (N.on = !0), (null == N.on || \"none\" == f.fill || null === f.fill) && (N.on = !1), N.on && f.fill) {\n            var Q,\n                R = e(f.fill).match(g._ISURL);\n\n            if (R) {\n              Q = f.fill.split(g._ISURL), N.parentNode == l && l.removeChild(N), N.rotate = !0, N.src = Q[1], N.type = \"tile\";\n              var S = c.getBBox(1);\n              N.position = S.x + \" \" + S.y, c._.fillpos = [S.x, S.y], g._preload(Q[1], function () {\n                c._.fillsize = [this.offsetWidth, this.offsetHeight];\n              });\n            } else {\n              var T = g.getRGB(f.fill);\n              N.color = T.hex, N.src = \"\", N.type = \"solid\", T.error && (r.type in {\n                circle: 1,\n                ellipse: 1\n              } || \"r\" != e(f.fill).charAt()) && H(r, f.fill, N) ? (n.fill = \"none\", n.gradient = f.fill, N.rotate = !1) : \"opacity\" in T && !(\"fill-opacity\" in f) && (k.nonGradOpacity = P = T.opacity);\n            }\n          }\n\n          if (-1 !== P || \"fill-opacity\" in f || \"opacity\" in f) {\n            var U = ((+n[\"fill-opacity\"] + 1 || 2) - 1) * ((+n.opacity + 1 || 2) - 1);\n            U = j(d(U, 0), 1), k.opacity = U, void 0 === k.opacity1 ? N.opacity = U * (void 0 === k.nonGradOpacity ? 1 : k.nonGradOpacity) : (N.opacity = k.opacity1 * U, N[\"o:opacity2\"] = k.opacity2 * U), N.src && (N.color = \"none\");\n          }\n\n          k.opacity = void 0, l.appendChild(N);\n          var V = l.getElementsByTagName(\"stroke\") && l.getElementsByTagName(\"stroke\")[0],\n              W = !1;\n          V || (W = V = K(\"stroke\")), (f.stroke && \"none\" != f.stroke || f[\"stroke-width\"] || null != f[\"stroke-opacity\"] || f[\"stroke-dasharray\"] || f[\"stroke-miterlimit\"] || f[\"stroke-linejoin\"] || f[\"stroke-linecap\"]) && (V.on = !0), (\"none\" == f.stroke || null === f.stroke || null == V.on || 0 == f.stroke || 0 == f[\"stroke-width\"]) && (V.on = !1);\n          var X = g.getRGB(\"stroke\" in f ? f.stroke : n.stroke);\n          V.on && f.stroke && (V.color = X.hex), U = ((+n[\"stroke-opacity\"] + 1 || 2) - 1) * ((+n.opacity + 1 || 2) - 1) * ((+X.opacity + 1 || 2) - 1);\n          var Y = .75 * (h(f[\"stroke-width\"]) || 1);\n\n          if (U = j(d(U, 0), 1), null == f[\"stroke-width\"] && (Y = n[\"stroke-width\"]), f[\"stroke-width\"] && (V.weight = Y), Y && 1 > Y && (U *= Y) && (V.weight = 1), V.opacity = \"none\" === n.stroke ? 0 : U, f[\"stroke-linejoin\"] && (V.joinstyle = f[\"stroke-linejoin\"]) || W && (W.joinstyle = \"miter\"), V.miterlimit = f[\"stroke-miterlimit\"] || 8, f[\"stroke-linecap\"] && (V.endcap = \"butt\" == f[\"stroke-linecap\"] ? \"flat\" : \"square\" == f[\"stroke-linecap\"] ? \"square\" : \"round\"), f[\"stroke-dasharray\"]) {\n            var Z = {\n              \"-\": \"shortdash\",\n              \".\": \"shortdot\",\n              \"-.\": \"shortdashdot\",\n              \"-..\": \"shortdashdotdot\",\n              \". \": \"dot\",\n              \"- \": \"dash\",\n              \"--\": \"longdash\",\n              \"- .\": \"dashdot\",\n              \"--.\": \"longdashdot\",\n              \"--..\": \"longdashdotdot\"\n            };\n            V.dashstyle = Z.hasOwnProperty(f[\"stroke-dasharray\"]) ? Z[f[\"stroke-dasharray\"]] : f[\"stroke-dasharray\"].join && f[\"stroke-dasharray\"].join(\" \") || \"\";\n          }\n\n          W && l.appendChild(V);\n        }\n\n        if (\"text\" == r.type) {\n          r.paper.canvas.style.display = \"\";\n\n          var $ = r.paper.span,\n              _ = E(r),\n              aa = _.font && _.font.match(/\\d+(?:\\.\\d*)?(?=px)/),\n              ba = _[\"line-height\"] && (_[\"line-height\"] + \"\").match(/\\d+(?:\\.\\d*)?(?=px)/);\n\n          a = $.style, _.font && (a.font = _.font), _[\"font-family\"] && (a.fontFamily = _[\"font-family\"]), _[\"font-weight\"] && (a.fontWeight = _[\"font-weight\"]), _[\"font-style\"] && (a.fontStyle = _[\"font-style\"]), aa = h(_[\"font-size\"] || aa && aa[0]) || 10, a.fontSize = 100 * aa + \"px\", ba = h(_[\"line-height\"] || ba && ba[0] || 1.2 * aa) || 12, a.lineHeight = 100 * ba + \"px\", g.is(f.text, \"array\") && (f.text = r.textpath.string = f.text.join(\"\\n\").replace(/<br\\s*?\\/?>/ig, \"\\n\")), r.textpath.string && ($.innerHTML = e(r.textpath.string).replace(/</g, \"&#60;\").replace(/&/g, \"&#38;\").replace(/\\n/g, \"<br>\"));\n          var ca = $.getBoundingClientRect();\n          r.W = n.w = (ca.right - ca.left) / 100, r.H = n.h = (ca.bottom - ca.top) / 100, r.X = n.x, r.Y = n.y;\n\n          switch (n[\"vertical-align\"]) {\n            case \"top\":\n              r.bby = r.H / 2;\n              break;\n\n            case \"bottom\":\n              r.bby = -r.H / 2;\n              break;\n\n            default:\n              r.bby = 0;\n          }\n\n          (\"x\" in f || \"y\" in f || void 0 !== r.bby) && (r.path.v = g.format(\"m{0},{1}l{2},{1}\", i(21600 * n.x), i(21600 * (n.y + (r.bby || 0))), i(21600 * n.x) + 1));\n\n          for (var da = [\"x\", \"y\", \"text\", \"font\", \"font-family\", \"font-weight\", \"font-style\", \"font-size\", \"line-height\"], ea = 0, fa = da.length; ea < fa; ea++) {\n            if (da[ea] in f) {\n              r._.dirty = 1;\n              break;\n            }\n          }\n\n          switch (n[\"text-anchor\"]) {\n            case \"start\":\n              r.textpath.style[\"v-text-align\"] = \"left\", r.bbx = r.W / 2;\n              break;\n\n            case \"end\":\n              r.textpath.style[\"v-text-align\"] = \"right\", r.bbx = -r.W / 2;\n              break;\n\n            default:\n              r.textpath.style[\"v-text-align\"] = \"center\", r.bbx = 0;\n          }\n\n          r.textpath.style[\"v-text-kern\"] = !0;\n        }\n      }\n    },\n        G = g._updateFollowers = function () {\n      var a,\n          b,\n          c,\n          d = getArrayCopy(arguments),\n          e = p.call(d),\n          f = p.call(d);\n\n      for (a = 0, b = e.followers.length; a < b; a++) {\n        c = e.followers[a].el, c[f].apply(c, d);\n      }\n    },\n        H = function H(a, b, c) {\n      a.attrs = a.attrs || {};\n      var d,\n          f = a.attrs,\n          j = Math.pow,\n          l = a.oriOp,\n          m = \"linear\",\n          n = \".5 .5\";\n\n      if (a.attrs.gradient = b, b = e(b).replace(g._radial_gradient, function (a, b) {\n        m = \"radial\", b = b && b.split(\",\") || [];\n        var c = b[0],\n            d = b[1],\n            e = b[2],\n            f = b[3],\n            g = b[4],\n            i = b[5];\n        return f && g && (f = h(f), g = h(g), .25 < j(f - .5, 2) + j(g - .5, 2) && (g = k(.25 - j(f - .5, 2)) * (2 * (.5 < g) - 1) + .5), n = f + \" \" + g), \"\";\n      }), b = b.split(/\\s*\\-\\s*/), \"linear\" == m) {\n        var p = b.shift();\n        if (p = -h(p), isNaN(p)) return null;\n      }\n\n      var q = g._parseDots(b);\n\n      if (!q) return null;\n\n      if (a = a.shape || a.node, q.length) {\n        c.parentNode == a && a.removeChild(c), c.on = !0, c.method = \"none\", c.color = q[0].color, c.color2 = q[q.length - 1].color;\n\n        for (var r = [], s = 1, t = void 0 === q[0].opacity ? 1 : q[0].opacity, u = 0, v = q.length; u < v; u++) {\n          q[u].offset && r.push(q[u].offset + \" \" + q[u].color), void 0 !== q[u].opacity && (s = q[u].opacity);\n        }\n\n        c.colors = r.length ? r.join() : \"0% \" + c.color, l.opacity1 = s, l.opacity2 = t, d = void 0 === l.opacity ? 1 : l.opacity, c.opacity = s * d, c[\"o:opacity2\"] = t * d, \"radial\" == m ? (c.type = \"gradientTitle\", c.focus = \"100%\", c.focussize = \"0 0\", c.focusposition = n, c.angle = 0) : (c.type = \"gradient\", c.angle = (270 - p) % 360), a.appendChild(c);\n      }\n\n      return 1;\n    },\n        I = function I(a, b, c) {\n      var d,\n          e = this,\n          f = c || b;\n      f.canvas && f.canvas.appendChild(a), d = K(\"skew\"), d.on = !0, a.appendChild(d), e.skew = d, e.node = e[0] = a, a.raphael = !0, a.raphaelid = e.id = g._oid++, e.X = 0, e.Y = 0, e.attrs = e.attrs || {}, e.followers = e.followers || [], e.paper = b, e.ca = e.customAttributes = e.customAttributes || new b._CustomAttributes(), e.matrix = g.matrix(), e._ = {\n        transform: [],\n        sx: 1,\n        sy: 1,\n        dx: 0,\n        dy: 0,\n        deg: 0,\n        dirty: 1,\n        dirtyT: 1\n      }, e.parent = f, f.bottom || (f.bottom = e), e.prev = f.top, f.top && (f.top.next = e), f.top = e, e.next = null;\n    },\n        J = g.el;\n\n    I.prototype = J, J.constructor = I, J.transform = function (a) {\n      if (null == a) return this._.transform;\n      var b,\n          c = this.paper._viewBoxShift,\n          d = c ? \"s\" + [c.scale, c.scale] + \"-1-1t\" + [c.dx, c.dy] : \"\";\n      c && (b = a = e(a).replace(/\\.{3}|\\u2026/g, this._.transform || \"\")), g._extractTransform(this, d + a);\n      var f,\n          h = this.matrix.clone(),\n          i = this.skew,\n          j = this.node,\n          k = ~e(this.attrs.fill).indexOf(\"-\"),\n          l = !e(this.attrs.fill).indexOf(\"url(\");\n      if (h.translate(-.5, -.5), !(l || k || \"image\" == this.type)) j.style.filter = \"\", i.matrix = e(h), i.offset = h.offset();else if (i.matrix = \"1 0 0 1\", i.offset = \"0 0\", f = h.split(), k && f.noRotation || !f.isSimple) {\n        j.style.filter = h.toFilter();\n        var m = this.getBBox(),\n            n = this.getBBox(1),\n            o = m.x2 && n.x2 && \"x2\" || \"x\",\n            p = m.y2 && n.y2 && \"y2\" || \"y\",\n            q = m[o] - n[o],\n            r = m[p] - n[p];\n        j.coordorigin = -21600 * q + \" \" + -21600 * r, B(this, 1, 1, q, r, 0);\n      } else j.style.filter = \"\", B(this, f.scalex, f.scaley, f.dx, f.dy, f.rotate);\n      return b && (this._.transform = b), this;\n    }, J.rotate = function (a, b, c) {\n      var d = this;\n      if (d.removed) return d;\n\n      if (G(d, \"rotate\", a, b, c), null != a) {\n        if (a = e(a).split(m), a.length - 1 && (b = h(a[1]), c = h(a[2])), a = h(a[0]), null == c && (b = c), null == b || null == c) {\n          var f = d.getBBox(1);\n          b = f.x + f.width / 2, c = f.y + f.height / 2;\n        }\n\n        return d._.dirtyT = 1, d.transform(d._.transform.concat([[\"r\", a, b, c]])), d;\n      }\n    }, J.translate = function (a, b) {\n      var c = this;\n      return c.removed ? c : (G(c, \"translate\", a, b), a = e(a).split(m), a.length - 1 && (b = h(a[1])), a = h(a[0]) || 0, b = +b || 0, c._.bbox && (c._.bbox.x += a, c._.bbox.y += b), c.transform(c._.transform.concat([[\"t\", a, b]])), c);\n    }, J.scale = function (a, b, c, d) {\n      var f = this;\n      if (f.removed) return f;\n      if (G(f, \"scale\", a, b, c, d), a = e(a).split(m), a.length - 1 && (b = h(a[1]), c = h(a[2]), d = h(a[3]), isNaN(c) && (c = null), isNaN(d) && (d = null)), a = h(a[0]), null == b && (b = a), null == d && (c = d), null == c || null == d) var g = f.getBBox(1);\n      return c = null == c ? g.x + g.width / 2 : c, d = null == d ? g.y + g.height / 2 : d, f.transform(f._.transform.concat([[\"s\", a, b, c, d]])), f._.dirtyT = 1, f;\n    }, J.hide = function (a) {\n      var b = this;\n      return G(b, \"hide\", a), b.removed || (b.node.style.display = \"none\"), b;\n    }, J.show = function (a) {\n      var b = this;\n      return G(b, \"show\", a), b.removed || (b.node.style.display = \"\"), b;\n    }, J._getBBox = function () {\n      var a = this;\n      return a.removed ? {} : {\n        x: a.X + (a.bbx || 0) - a.W / 2,\n        y: a.Y + (a.bby || 0) - a.H / 2,\n        width: a.W,\n        height: a.H\n      };\n    }, J.remove = function () {\n      if (!this.removed && this.parent.canvas) {\n        var a,\n            b = this,\n            c = g._engine.getNode(b),\n            d = b.paper,\n            e = b.shape;\n\n        for (d.__set__ && d.__set__.exclude(b), n.unbind(\"raphael.*.*.\" + b.id), e && e.parentNode.removeChild(e), c.parentNode && c.parentNode.removeChild(c); a = b.followers.pop();) {\n          a.el.remove();\n        }\n\n        for (; a = b.bottom;) {\n          a.remove();\n        }\n\n        if (b._drag && b.undrag(), b.events) for (; a = b.events.pop();) {\n          a.unbind();\n        }\n\n        for (var a in b.removeData(), delete d._elementsById[b.id], g._tear(b, b.parent), b) {\n          b[a] = \"function\" == typeof b[a] ? g._removedFactory(a) : null;\n        }\n\n        b.removed = !0;\n      }\n    }, J.attr = function (b, c) {\n      if (this.removed) return this;\n\n      if (null == b) {\n        var d = {};\n\n        for (var e in this.attrs) {\n          this.attrs.hasOwnProperty(e) && (d[e] = this.attrs[e]);\n        }\n\n        return d.gradient && \"none\" == d.fill && (d.fill = d.gradient) && delete d.gradient, d.transform = this._.transform, d.visibility = \"none\" === this.node.style.display ? \"hidden\" : \"visible\", d;\n      }\n\n      if (null == c && g.is(b, \"string\")) {\n        if (\"fill\" == b && \"none\" == this.attrs.fill && this.attrs.gradient) return this.attrs.gradient;\n        if (\"visibility\" == b) return \"none\" === this.node.style.display ? \"hidden\" : \"visible\";\n\n        for (var a = b.split(m), f = {}, h = 0, j = a.length; h < j; h++) {\n          b = a[h], f[b] = b in this.attrs ? this.attrs[b] : g.is(this.ca[b], \"function\") ? this.ca[b].def : g._availableAttrs[b];\n        }\n\n        return j - 1 ? f : f[a[0]];\n      }\n\n      if (this.attrs && null == c && g.is(b, \"array\")) {\n        for (f = {}, h = 0, j = b.length; h < j; h++) {\n          f[b[h]] = this.attr(b[h]);\n        }\n\n        return f;\n      }\n\n      var k;\n      if (null != c && (k = {}, k[b] = c), null == c && g.is(b, \"object\") && (k = b), !g.stopPartialEventPropagation) for (var l in k) {\n        n(\"raphael.attr.\" + l + \".\" + this.id, this, k[l], l);\n      }\n\n      if (k) {\n        var o = {};\n\n        for (l in this.ca) {\n          if (this.ca[l] && k.hasOwnProperty(l) && g.is(this.ca[l], \"function\") && !this.ca[\"_invoked\" + l]) {\n            this.ca[\"_invoked\" + l] = !0;\n            var p = this.ca[l].apply(this, [].concat(k[l]));\n\n            for (var q in delete this.ca[\"_invoked\" + l], p) {\n              p.hasOwnProperty(q) && (k[q] = p[q]);\n            }\n\n            this.attrs[l] = k[l], !1 === p && (o[l] = k[l], delete k[l]);\n          }\n        }\n\n        \"text\" in k && \"text\" == this.type && (g.is(k.text, \"array\") && (k.text = k.text.join(\"\\n\")), this.textpath.string = k.text.replace(/<br\\s*?\\/?>/ig, \"\\n\")), F(this, k);\n        var r;\n\n        for (h = 0, j = this.followers.length; h < j; h++) {\n          r = this.followers[h], r.cb && !r.cb.call(r.el, k, this) || r.el.attr(k);\n        }\n\n        for (var q in o) {\n          k[q] = o[q];\n        }\n      }\n\n      return this;\n    }, J.on = function (a, b, c) {\n      var d,\n          f = this,\n          e = b;\n      if (f.removed) return f;\n\n      switch (f._actualListners || (f._actualListners = []), f._derivedListeners || (f._derivedListeners = []), a) {\n        case \"fc-dragstart\":\n          return f.drag(null, b), f;\n\n        case \"fc-dragmove\":\n          return f.drag(b), f;\n\n        case \"fc-dragend\":\n          return f.drag(null, null, b), f;\n\n        case \"fc-dbclick\":\n          return f.dbclick(b, c), f;\n\n        case \"fc-click\":\n          return f.fcclick(b, c), f;\n      }\n\n      return a = a.replace(/fc-/, \"\"), f._ && f._.RefImg && (\"load\" === a || \"error\" === a) ? (node = f._.RefImg, e = function (a, b) {\n        return function (c) {\n          d = {}, g.makeSelectiveCopy(d, c), d.target = f._.RefImg, a.removed || b.call(a, d);\n        };\n      }(f, b)) : node = f.node, node.attachEvent ? e === b && (e = function e(a) {\n        b.call(c || f, a);\n      }) : e = function e() {\n        var a = g._g.win.event;\n        a.target = a.srcElement, b(a);\n      }, f._actualListners.push(b), f._derivedListeners.push(e), node.attachEvent ? node.attachEvent(\"on\" + a, e) : node[\"on\" + a] = e, f;\n    }, J.off = function (a, b) {\n      var c,\n          d = this;\n      if (d.removed) return d;\n      return \"fc-dragstart\" === a ? (d.undragstart(b), d) : \"fc-dragmove\" === a ? (d.undragmove(b), d) : \"fc-dragend\" === a ? (d.undragend(b), d) : \"fc-dbclick\" === a ? (d.undbclick(b), d) : \"fc-click\" === a ? (d.fcunclick(b), d) : (a = a.replace(/fc-/, \"\"), c = d._actualListners.indexOf(b), -1 !== c && (b = d._derivedListeners[c], d._actualListners.splice(c, 1), d._derivedListeners.splice(c, 1)), d.node.attachEvent ? d.node.detachEvent(\"on\" + a, b) : d.node[\"on\" + a] = null, d);\n    }, g._engine.getNode = function (a) {\n      var b = a.node || a[0].node;\n      return b.clipRect || b;\n    }, g._engine.getLastNode = function (a) {\n      var b = a.node || a[a.length - 1].node;\n      return b.clipRect || b;\n    }, g._engine.group = function (a, b, c) {\n      var d,\n          e = g._g.doc.createElement(\"div\"),\n          f = a._HTMLClassName,\n          h = new I(e, a, c);\n\n      return e.style.cssText = \"position:absolute;left:0;top:0;width:1px;height:1px\", h._id = b || \"\", b && (d = e.className = \"raphael-group-\" + h.id + \"-\" + b), f && (e.className = d ? d + \" \" + f : f), (c || a).canvas.appendChild(e), h.type = \"group\", h.canvas = h.node, h.transform = g._engine.group.transform, h.top = null, h.bottom = null, h;\n    }, g._engine.group.transform = function (a) {\n      if (null == a) return this._.transform;\n      var b,\n          d,\n          f,\n          i,\n          j,\n          k = this,\n          l = k.node.style,\n          m = k.clip,\n          c = k.paper._viewBoxShift,\n          n = c ? \"s\" + [c.scale, c.scale] + \"-1-1t\" + [c.dx, c.dy] : \"\";\n      return c && (b = a = e(a).replace(/\\.{3}|\\u2026/g, k._.transform || \"\")), g._extractTransform(k, n + a), d = k.matrix, f = d.offset(), i = h(f[0]) || 0, j = h(f[1]) || 0, l.left = i + \"px\", l.top = j + \"px\", l.zoom = (k._.tzoom = d.get(0)) + \"\", m && (l.clip = g.format(\"rect({1}px {2}px {3}px {0}px)\", [m[0] - i, m[1] - j, m[2] - i, m[3] - j])), k;\n    }, g._engine.path = function (a, b, c) {\n      var d = K(\"shape\");\n      d.style.cssText = \"position:absolute;left:0;top:0;width:1px;height:1px\", d.coordsize = \"21600 21600\", d.coordorigin = a.coordorigin;\n      var e = new I(d, a, c);\n      return e.type = b.type || \"path\", e.path = [], e.Path = \"\", b.type && delete b.type, F(e, b), C(e, b), e;\n    }, g._engine.rect = function (b, c, d) {\n      var e = g._rectPath(c.x, c.y, c.w, c.h, c.r);\n\n      c.path = e, c.type = \"rect\";\n      var f = b.path(c, d),\n          h = f.attrs;\n      return f.X = h.x, f.Y = h.y, f.W = h.width, f.H = h.height, h.path = e, f;\n    }, g._engine.ellipse = function (b, c, d) {\n      c.type = \"ellipse\";\n      var e = b.path(c, d),\n          f = e.attrs;\n      return e.X = f.x - f.rx, e.Y = f.y - f.ry, e.W = 2 * f.rx, e.H = 2 * f.ry, e;\n    }, g._engine.circle = function (b, c, d) {\n      c.type = \"circle\";\n      var e = b.path(c, d),\n          f = e.attrs;\n      return e.X = f.x - f.r, e.Y = f.y - f.r, e.W = e.H = 2 * f.r, e;\n    };\n    g._engine.image = function (b, c, d) {\n      c.w || (c.w = c.width), c.h || (c.h = c.height);\n\n      var e = g._rectPath(c.x, c.y, c.w, c.h);\n\n      c.path = e, c.type = \"image\", c.stroke = \"none\";\n      var f = b.path(c, d),\n          h = f.attrs,\n          a = f.node,\n          i = a.getElementsByTagName(\"fill\")[0];\n      return f._.RefImg || (f._.RefImg = new Image()), h.src = c.src, f.X = h.x = c.x, f.Y = h.y = c.y, f.W = h.width = c.w, f.H = h.height = c.h, i.parentNode == a && a.removeChild(i), i.rotate = !0, i.src = h.src, i.type = \"tile\", f._.fillpos = [h.x, h.y], f._.fillsize = [h.w, h.h], a.appendChild(i), B(f, 1, 1, 0, 0, 0), f;\n    }, g._engine.text = function (a, b, c, d) {\n      var f = K(\"shape\"),\n          h = K(\"path\"),\n          j = K(\"textpath\");\n      x = b.x || 0, y = b.y || 0, text = b.text, h.v = g.format(\"m{0},{1}l{2},{1}\", i(21600 * b.x), i(21600 * b.y), i(21600 * b.x) + 1), h.textpathok = !0, j.string = e(b.text).replace(/<br\\s*?\\/?>/ig, \"\\n\"), j.on = !0, f.style.cssText = \"position:absolute;left:0;top:0;width:1px;height:1px\", f.coordsize = \"21600 21600\", f.coordorigin = \"0 0\";\n      var k = new I(f, a, c);\n      return k.shape = f, k.path = h, k.textpath = j, k.type = \"text\", k.attrs.text = e(b.text || \"\"), k.attrs.x = b.x, k.attrs.y = b.y, k.attrs.w = 1, k.attrs.h = 1, d && k.css && k.css(d, void 0, !0), F(k, b), C(k, b), f.appendChild(j), f.appendChild(h), k;\n    }, g._engine.setSize = function (a, b) {\n      var c = this.canvas.style;\n      return this.width = a, this.height = b, a == +a && (a += \"px\"), b == +b && (b += \"px\"), a && (c.width = a), b && (c.height = b), c.clip = \"rect(0 \" + c.width + \" \" + c.height + \" 0)\", this._viewBox && g._engine.setViewBox.apply(this, this._viewBox), this;\n    }, g._engine.setViewBox = function (a, b, c, e, f) {\n      n(\"raphael.setViewBox\", this, this._viewBox, [a, b, c, e, f]);\n      var g,\n          h,\n          i = this.width,\n          j = this.height,\n          k = 1 / d(c / i, e / j);\n      return f && (g = j / e, h = i / c, c * g < i && (a -= (i - c * g) / 2 / g), e * h < j && (b -= (j - e * h) / 2 / h)), this._viewBox = [a, b, c, e, !!f], this._viewBoxShift = {\n        dx: -a,\n        dy: -b,\n        scale: k\n      }, this.forEach(function (a) {\n        a.transform(\"...\");\n      }), this;\n    };\n    var K;\n    g._engine.initWin = function (a) {\n      var b = a.document;\n      b.createStyleSheet().addRule(\".rvml\", \"behavior:url(#default#VML)\");\n\n      try {\n        b.namespaces.rvml || b.namespaces.add(\"rvml\", \"urn:schemas-microsoft-com:vml\"), K = g._createNode = function (a, c) {\n          var d,\n              f = b.createElement(\"<rvml:\" + a + \" class=\\\"rvml\\\">\");\n\n          for (d in c) {\n            f[d] = e(c[d]);\n          }\n\n          return f;\n        };\n      } catch (a) {\n        K = g._createNode = function (a, c) {\n          var d,\n              f = b.createElement(\"<\" + a + \" xmlns=\\\"urn:schemas-microsoft.com:vml\\\" class=\\\"rvml\\\">\");\n\n          for (d in c) {\n            f[d] = e(c[d]);\n          }\n\n          return f;\n        };\n      }\n    }, g._engine.initWin(g._g.win), g._engine.create = function () {\n      var a = g._getContainer.apply(0, arguments),\n          b = a.container,\n          d = a.height,\n          e = a.width,\n          f = a.x,\n          h = a.y;\n\n      if (!b) throw new Error(\"VML container not found.\");\n\n      var i = new g._Paper(),\n          j = i.canvas = g._g.doc.createElement(\"div\"),\n          c = j.style;\n\n      return f = f || 0, h = h || 0, e = e || 512, d = d || 342, i.width = e, i.height = d, e == +e && (e += \"px\"), d == +d && (d += \"px\"), i.coordsize = \"21600000 21600000\", i.coordorigin = \"0 0\", j.id = \"raphael-paper-\" + i.id, i.span = g._g.doc.createElement(\"span\"), i.span.style.cssText = \"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;\", j.appendChild(i.span), c.cssText = g.format(\"top:0;left:0;width:{0};height:{1};display:inline-block;cursor:default;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden\", e, d), 1 == b ? (g._g.doc.body.appendChild(j), c.left = f + \"px\", c.top = h + \"px\", c.position = \"absolute\") : b.firstChild ? b.insertBefore(j, b.firstChild) : b.appendChild(j), i.renderfix = function () {}, i;\n    }, g.prototype.clear = function () {\n      var a;\n\n      for (n(\"raphael.clear\", this); a = this.bottom;) {\n        a.remove();\n      }\n\n      this.canvas.innerHTML = \"\", this.span = g._g.doc.createElement(\"span\"), this.span.style.cssText = \"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;\", this.canvas.appendChild(this.span), this.bottom = this.top = null;\n    }, g.prototype.remove = function () {\n      for (n(\"raphael.remove\", this); a = this.bottom;) {\n        a.remove();\n      }\n\n      for (var a in this.canvas.parentNode.removeChild(this.canvas), this) {\n        this[a] = \"function\" == typeof this[a] ? g._removedFactory(a) : null;\n      }\n\n      return !0;\n    }, g.prototype.setHTMLClassName = function (a) {\n      this._HTMLClassName = a;\n    };\n  }\n}","map":null,"metadata":{},"sourceType":"module"}