{"ast":null,"code":"import _classCallCheck from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\src\\\\components\\\\Content\\\\Food\\\\List\\\\EditClick\\\\Edit.js\";\nimport React, { Component } from 'react';\nimport \"./Step/Add.less\";\nimport { Steps, Button, message, Form } from 'antd';\nimport { withRouter } from 'react-router-dom';\nimport StepOne from './Step/StepOne';\nimport StepTwo from './Step/StepTwo';\nimport StepThree from './Step/StepThree';\nvar Step = Steps.Step;\nvar steps = [{\n  title: '填写菜品信息',\n  content: '填写商品信息'\n}, {\n  title: '填写菜品促销',\n  content: 'Second-content'\n}, {\n  title: '填写商品属性',\n  content: 'Last-content'\n}];\n\nvar Temp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Temp, _Component);\n\n  function Temp() {\n    var _this;\n\n    _classCallCheck(this, Temp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Temp).call(this));\n    _this.state = {\n      current: 0,\n      data: {\n        comment: \"\",\n        loading: \"\",\n        name: \"\",\n        price: \"\",\n        promot: \"\",\n        radioButton: \"\",\n        select: \"\",\n        switch1: false,\n        switch2: false,\n        textarea: \"\",\n        upload: \"\"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Temp, [{\n    key: \"next\",\n    value: function next() {\n      var current = this.state.current + 1;\n      this.setState({\n        current: current\n      });\n      setTimeout(function () {// this.props.form.setFieldsValue(this.state.data)\n      }, 2000);\n    }\n  }, {\n    key: \"prev\",\n    value: function prev() {\n      var current = this.state.current - 1;\n      this.setState({\n        current: current\n      } // function () {\n      // 上述代码的第二个参数是一个回调函数，在setState() 的异步操作结束并且组件已经重新渲染的时候执行。\n      // }\n      );\n    }\n  }, {\n    key: \"componentWillUnmounting\",\n    value: function componentWillUnmounting() {// console.log(11111111111111)\n      // this.props.form.setFieldsValue( this.state.data) \n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      var _this2 = this;\n\n      //表单内容提交组件,校验并获取一组输入域的值与 Error\t\n      // e.preventDefault();\n      // console.log(this.props.form.getFieldError(\"name\"))\n      this.props.form.validateFields(function (errors, values) {\n        // console.log(values)\n        //values 参数为当前表单所有Items内数值\n        if (!!errors) {\n          message.error('验证失败!'); // console.log(this.state)\n\n          return;\n        }\n\n        var data = Object.assign({}, _this2.state.data, _this2.props.form.getFieldsValue());\n\n        _this2.setState({\n          data: data\n        });\n\n        _this2.next();\n      });\n    }\n  }, {\n    key: \"selest\",\n    // componentWillReceiveProps() {\n    //     console.log(this.props.form.getFieldsValue())\n    // }\n    value: function selest(params) {\n      switch (params) {\n        case 0:\n          return React.createElement(StepOne, {\n            props: this.props,\n            handleSubmit: this.handleSubmit,\n            state: this.state,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          });\n          break;\n\n        case 1:\n          return React.createElement(StepTwo, {\n            props: this.props,\n            state: this.state,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          });\n          break;\n\n        case 2:\n          return React.createElement(StepThree, {\n            props: this.props,\n            state: this.state,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96\n            },\n            __self: this\n          });\n          break;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log(this.props.location.state);\n      var current = this.state.current;\n      return React.createElement(\"main\", {\n        className: \"food-add\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"food-add-wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Steps, {\n        current: current,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, steps.map(function (item) {\n        return React.createElement(Step, {\n          key: item.title,\n          title: item.title,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        });\n      })), React.createElement(\"div\", {\n        className: \"form-wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, this.selest(current)), React.createElement(\"div\", {\n        className: \"steps-action\",\n        style: {\n          position: \"relative\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, current < steps.length - 1 && React.createElement(Button, {\n        type: \"primary\",\n        style: {\n          position: \"absolute\",\n          right: -15,\n          top: -32\n        },\n        onClick: function onClick(e) {\n          _this3.handleSubmit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"\\u4E0B\\u4E00\\u6B65\\uFF0C\", steps[current].title) // 下一步，填写商品信息\n      , current === steps.length - 1 && React.createElement(Button, {\n        style: {\n          marginLeft: 450\n        },\n        type: \"primary\",\n        onClick: function onClick(e) {\n          message.success('Processing complete!');\n\n          _this3.handleSubmit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"\\u5B8C\\u6210\\uFF0C\\u63D0\\u4EA4\\u83DC\\u54C1\"), current > 0 && React.createElement(Button, {\n        style: {\n          marginLeft: 8,\n          position: \"absolute\",\n          bottom: 0,\n          left: 0\n        },\n        onClick: function onClick() {\n          return _this3.prev();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Previous\"))));\n    }\n  }, {\n    key: \"componentWillUpdate\",\n    value: function componentWillUpdate() {// console.log(this.state)\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      console.log(this.state);\n    }\n  }]);\n\n  return Temp;\n}(Component);\n\nvar createForm = Form.create;\nTemp = createForm()(Temp); //将Form表单,通过props获取到各种方法\n\nexport default withRouter(Temp);","map":{"version":3,"sources":["F:\\App Store\\Coding\\Github_Download\\JS-\\React项目\\react-mall\\src\\components\\Content\\Food\\List\\EditClick\\Edit.js"],"names":["React","Component","Steps","Button","message","Form","withRouter","StepOne","StepTwo","StepThree","Step","steps","title","content","Temp","state","current","data","comment","loading","name","price","promot","radioButton","select","switch1","switch2","textarea","upload","setState","setTimeout","e","props","form","validateFields","errors","values","error","Object","assign","getFieldsValue","next","params","handleSubmit","console","log","location","map","item","selest","position","length","right","top","marginLeft","success","bottom","left","prev","createForm","create"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport \"./Step/Add.less\";\r\nimport { Steps, Button, message, Form } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport StepOne from './Step/StepOne';\r\nimport StepTwo from './Step/StepTwo';\r\nimport StepThree from './Step/StepThree';\r\n\r\nconst Step = Steps.Step;\r\nconst steps = [{\r\n    title: '填写菜品信息',\r\n    content: '填写商品信息',\r\n}, {\r\n    title: '填写菜品促销',\r\n    content: 'Second-content',\r\n}, {\r\n    title: '填写商品属性',\r\n    content: 'Last-content',\r\n}];\r\n\r\nclass Temp extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            current: 0,\r\n            data: {\r\n                comment: \"\",\r\n                loading: \"\",\r\n                name: \"\",\r\n                price: \"\",\r\n                promot: \"\",\r\n                radioButton: \"\",\r\n                select: \"\",\r\n                switch1: false,\r\n                switch2: false,\r\n                textarea: \"\",\r\n                upload: \"\"\r\n            }\r\n        };\r\n    }\r\n    next() {\r\n        const current = this.state.current + 1;\r\n        this.setState({ current })\r\n        setTimeout(() => {\r\n            // this.props.form.setFieldsValue(this.state.data)\r\n        }, 2000);\r\n    }\r\n\r\n    prev() {\r\n        const current = this.state.current - 1;\r\n        this.setState({ current },\r\n            // function () {\r\n            // 上述代码的第二个参数是一个回调函数，在setState() 的异步操作结束并且组件已经重新渲染的时候执行。\r\n            // }\r\n        )\r\n\r\n    }\r\n     componentWillUnmounting(){\r\n        \r\n        // console.log(11111111111111)\r\n      // this.props.form.setFieldsValue( this.state.data) \r\n     }\r\n\r\n    handleSubmit(e) {\r\n        //表单内容提交组件,校验并获取一组输入域的值与 Error\t\r\n        // e.preventDefault();\r\n        // console.log(this.props.form.getFieldError(\"name\"))\r\n        this.props.form.validateFields((errors, values) => {\r\n            // console.log(values)\r\n            //values 参数为当前表单所有Items内数值\r\n            if (!!errors) {\r\n                message.error('验证失败!')\r\n                // console.log(this.state)\r\n                return;\r\n            }\r\n            let data = Object.assign({}, this.state.data, this.props.form.getFieldsValue())\r\n            this.setState({\r\n                data: data\r\n            })\r\n\r\n            this.next()\r\n        });\r\n    };\r\n    // componentWillReceiveProps() {\r\n    //     console.log(this.props.form.getFieldsValue())\r\n    // }\r\n    selest(params) {\r\n        switch (params) {\r\n            case 0:\r\n                return <StepOne props={this.props} handleSubmit={this.handleSubmit} state={this.state} />;\r\n                break;\r\n            case 1:\r\n                return <StepTwo props={this.props} state={this.state} />;\r\n                break;\r\n            case 2:\r\n                return <StepThree props={this.props} state={this.state} />;\r\n                break;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props.location.state)\r\n        const { current } = this.state;\r\n        return (\r\n            <main className=\"food-add\">\r\n                <div className=\"food-add-wrap\">\r\n                    <Steps current={current}   >\r\n                        {steps.map(item => <Step key={item.title} title={item.title} />\r\n                        )}\r\n                    </Steps>\r\n                    <div className=\"form-wrap\">\r\n                        {/* 分步组件 */}\r\n                        {this.selest(current)}\r\n                    </div>\r\n                    <div className=\"steps-action\" style={{ position: \"relative\" }}>\r\n                        {\r\n                            current < steps.length - 1\r\n                            && <Button\r\n                                type=\"primary\"\r\n                                style={{\r\n                                    position: \"absolute\",\r\n                                    right: -15,\r\n                                    top: -32\r\n                                }}\r\n                                onClick={(e) => {\r\n                                    this.handleSubmit(e)\r\n                                }}>下一步，{steps[current].title}</Button>\r\n                            // 下一步，填写商品信息\r\n                        }\r\n                        {\r\n                            current === steps.length - 1\r\n                            && <Button\r\n                                style={{ marginLeft: 450 }}\r\n                                type=\"primary\"\r\n                                onClick={(e) => {\r\n                                    message.success('Processing complete!')\r\n                                    this.handleSubmit(e)\r\n                                }\r\n                                }>完成，提交菜品</Button>\r\n                        }\r\n                        {\r\n                            current > 0\r\n                            && (\r\n                                <Button style={{ marginLeft: 8, position: \"absolute\", bottom: 0, left: 0 }} onClick={() => this.prev()}>\r\n                                    Previous\r\n                                </Button>\r\n                            )\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        )\r\n    }\r\n\r\n    componentWillUpdate() {\r\n        // console.log(this.state)\r\n    }\r\n    componentDidUpdate() {\r\n        console.log(this.state)\r\n    }\r\n}\r\n\r\nconst createForm = Form.create;\r\nTemp = createForm()(Temp);//将Form表单,通过props获取到各种方法\r\nexport default withRouter(Temp)"]},"metadata":{},"sourceType":"module"}