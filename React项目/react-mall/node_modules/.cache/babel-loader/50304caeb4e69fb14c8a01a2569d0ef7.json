{"ast":null,"code":"import Ajax from '../../../fc-core/src/ajax';\nimport { triggerEvent } from '../../../fc-core/src/event-api';\nvar SOURCE_NAME = 'XmlHttpRequest';\nvar UNDEF;\n\nfunction onDataLoadComplete(a, b) {\n  a.sender.jsVars.stallLoad = !1, a.sender.setChartData(b.dataSource, b.dataFormat, b.config, b.successcallback, b.silent);\n}\n\nfunction onDataLoadCancel(a, b) {\n  triggerEvent('dataLoadCancelled', a.sender, b), b.xmlHttpRequestObject.abort();\n}\n\nfunction xmlhttpSuccess(a, b, c, d) {\n  var e = c.obj,\n      f = c.args;\n  f.dataSource = a, f.xmlHttpRequestObject = b, f.source = SOURCE_NAME, f.url = d, triggerEvent('dataLoadRequestCompleted', e, f, UNDEF, onDataLoadComplete, onDataLoadCancel);\n}\n\nfunction xmlhttpFailure(a, b, c) {\n  var d = c.obj,\n      e = c.args;\n  e.error = a, e.httpStatus = b.xhr && b.xhr.status ? b.xhr.status : -1, e.xmlHttpRequestObject = b, d._addChartDependency('data', {\n    resolve: function resolve() {\n      return {\n        state: 1,\n        msg: d.options.dataLoadErrorMessage,\n        msgStyle: {\n          image: {\n            imageHAlign: d.args.dataLoadErrorMessageImageHAlign || d.options.baseChartMessageImageHAlign,\n            imageVAlign: d.args.dataLoadErrorMessageImageVAlign || d.options.baseChartMessageImageVAlign,\n            imageAlpha: d.args.dataLoadErrorMessageImageAlpha || d.options.baseChartMessageImageAlpha,\n            imageScale: d.args.dataLoadErrorMessageImageScale || d.options.baseChartMessageImageScale\n          },\n          message: {\n            color: d.args.dataLoadErrorMessageColor || d.options.baseChartMessageColor,\n            fontFamily: d.args.dataLoadErrorMessageFont || d.options.baseChartMessageFont,\n            fontSize: d.args.dataLoadErrorMessageFontSize || d.options.baseChartMessageFontSize\n          }\n        }\n      };\n    }\n  }), d._setState(), triggerEvent('dataLoadError', d, e);\n}\n\nfunction onDataLoadRequest(a, b) {\n  var c = a.sender,\n      d = c.__state,\n      e = b.url;\n  c.options.dataSource = b.url, d.dhmXhrObj || (d.dhmXhrObj = new Ajax(xmlhttpSuccess, xmlhttpFailure)), d.dhmXhrObj.get('function' == typeof window.decodeURIComponent ? window.decodeURIComponent(e) : window.unescape(e), {\n    obj: c,\n    args: b\n  });\n}\n\nfunction onDataLoadRequestCancel(a, b) {\n  var c = a.sender,\n      d = c.__state;\n  triggerEvent('dataLoadRequestCancelled', c, b), d && d.dhmXhrObj && d.dhmXhrObj.abort();\n}\n\nexport { SOURCE_NAME as sourceName, onDataLoadRequest, onDataLoadRequestCancel };","map":null,"metadata":{},"sourceType":"module"}