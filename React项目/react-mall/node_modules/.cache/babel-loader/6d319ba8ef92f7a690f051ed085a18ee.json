{"ast":null,"code":"import _classCallCheck from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport { SmartRenderer } from '../component-interface';\nimport { pluck, toRaphaelColor, pluckNumber } from '../lib';\nvar MOTHER_OF_COLOR = '#eeeeee';\n\nvar ToolBar =\n/*#__PURE__*/\nfunction (_SmartRenderer) {\n  _inherits(ToolBar, _SmartRenderer);\n\n  function ToolBar(a) {\n    var _this;\n\n    _classCallCheck(this, ToolBar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ToolBar).call(this, a)), _this.props = {};\n    return _this;\n  }\n\n  _createClass(ToolBar, [{\n    key: \"configureAttributes\",\n    value: function configureAttributes() {\n      var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var b = this,\n          c = b.config,\n          d = b.getFromEnv('chartConfig');\n      b.__setDefaultConfig(), this.props.width = pluckNumber(a.width, 0), this.props.height = pluckNumber(a.height, 0), c.orientation = pluck(a.toolbarorientation, c.orientation), c.hPadding = pluck(a.toolbarhpadding, c.hPadding), c.vPadding = pluck(a.toolbarvpadding, c.vPadding), c.backgroundcolor = pluck(a.toolbarbackgroundcolor, c.backgroundcolor), c.backgroundalpha = pluck(a.toolbarbackgroundalpha, c.backgroundalpha), c.bordercolor = pluck(a.toolbarbordercolor, c.bordercolor), c.borderalpha = pluck(a.toolbarborderalpha, c.borderalpha), c.borderthickness = pluck(a.toolbarborderthickness, c.borderthickness), c.hDirection = pluckNumber(a.toolbarhdirection, 'r' === d.toolbarHAlign ? -1 : 1), c.vDirection = pluckNumber(a.toolbarvdirection, 'b' === d.toolbarBAlign ? -1 : 1), c.hAlign = pluck(a.hAlign, 'center').toLowerCase(), c.vAlign = pluck(a.vAlign, 'middle').toLowerCase(), c.marginTop = pluckNumber(a.marginTop, a.spacing, c.marginTop), c.marginLeft = pluckNumber(a.marginLeft, a.spacing, c.marginLeft), c.marginRight = pluckNumber(a.marginRight, a.spacing, c.marginRight), c.marginBottom = pluckNumber(a.marginBottom, a.spacing, c.marginBottom);\n    }\n  }, {\n    key: \"__setDefaultConfig\",\n    value: function __setDefaultConfig() {\n      var a = this,\n          b = a.config;\n      b.orientation = 'horizontal', b.hPadding = 0, b.vPadding = 0, b.backgroundcolor = MOTHER_OF_COLOR, b.backgroundalpha = 0, b.bordercolor = MOTHER_OF_COLOR, b.borderalpha = 0, b.borderthickness = 1, b.spacing = 2.5, b.marginTop = 2.5, b.marginLeft = 2.5, b.marginRight = 2.5, b.marginBottom = 2.5;\n    }\n  }, {\n    key: \"getLogicalSpace\",\n    value: function getLogicalSpace() {\n      var a = this,\n          b = a.config,\n          c = a.props,\n          d = 0,\n          e = 0;\n      return a.getChildren('tool') && a.getChildren('tool').length && (a.getChildren('tool').forEach(function (a) {\n        if (a.getState('visible') && !a.getState('removed')) {\n          var _a$getLogicalSpace = a.getLogicalSpace(),\n              _c = _a$getLogicalSpace.width,\n              f = _a$getLogicalSpace.height,\n              g = _a$getLogicalSpace.marginTop,\n              h = _a$getLogicalSpace.marginLeft,\n              i = _a$getLogicalSpace.marginRight,\n              j = _a$getLogicalSpace.marginBottom;\n\n          'horizontal' === b.orientation ? (void 0 !== _c && (d += _c + (i || 0) + (h || 0)), e < (f = f + (g || 0) + (j || 0)) && (e = f)) : (void 0 !== f && (e += f + (g || 0) + (j || 0)), d < (_c = _c + (i || 0) + (h || 0)) && (d = _c));\n        }\n      }), d += 2 * b.hPadding, e += 2 * b.vPadding, c.width = c.width > d ? c.width : d, c.height = c.height > e ? c.height : e), {\n        width: d,\n        height: e,\n        marginTop: b.marginTop,\n        marginLeft: b.marginLeft,\n        marginRight: b.marginLeft,\n        marginBottom: b.marginLeft\n      };\n    }\n  }, {\n    key: \"manageSpace\",\n    value: function manageSpace() {\n      var a,\n          b = this,\n          c = b.config,\n          d = this.getChildren('tool') || [];\n\n      for (var _d in a = 'horizontal' === c.orientation ? b._placeToolHorizontally() : b._placeToolVertically(), a) {\n        a.hasOwnProperty(_d) && b.getChild(_d).setDimension(a[_d]);\n      }\n\n      d.forEach(function (a) {\n        a.manageSpace && a.manageSpace();\n      });\n    }\n  }, {\n    key: \"_placeToolHorizontally\",\n    value: function _placeToolHorizontally() {\n      var a,\n          b,\n          c,\n          d,\n          e = this,\n          f = e.config,\n          g = e.props,\n          h = f.hPadding,\n          i = g.width - f.hPadding,\n          j = {},\n          k = {\n        left: [],\n        right: [],\n        center: []\n      },\n          l = {\n        left: 0,\n        right: 0,\n        center: 0\n      };\n      return e.getChildren('tool') && e.getChildren('tool').length && ((0 < f.hDirection ? e.getChildren('tool') : e.getChildren('tool').slice(0).reverse()).forEach(function (a) {\n        if (a.getState('visible') && !a.getState('removed')) {\n          var _a$getAlignment = a.getAlignment(),\n              _b = _a$getAlignment.hAlign,\n              _a$getLogicalSpace2 = a.getLogicalSpace(),\n              _c2 = _a$getLogicalSpace2.width,\n              _d2 = _a$getLogicalSpace2.height,\n              _h = _a$getLogicalSpace2.marginTop,\n              _i = _a$getLogicalSpace2.marginLeft,\n              m = _a$getLogicalSpace2.marginRight,\n              n = _a$getLogicalSpace2.marginBottom,\n              o = a.getId();\n\n          l[_b] += _c2 + (_i || 0) + (m || 0), k[_b].push(o), j[o] = {}, j[o].y = e.props.y + _h + f.vPadding + (g.height - 2 * f.vPadding - (_d2 + n + _h)) / 2;\n        }\n      }), k.left.forEach(function (a) {\n        var _e$getChild$getLogica = e.getChild(a).getLogicalSpace(),\n            b = _e$getChild$getLogica.width,\n            c = _e$getChild$getLogica.marginLeft,\n            d = _e$getChild$getLogica.marginRight;\n\n        h += c || 0, j[a].x = e.props.x + f.hPadding + h, h += b + (d || 0);\n      }), k.right.reverse().forEach(function (a) {\n        var _e$getChild$getLogica2 = e.getChild(a).getLogicalSpace(),\n            b = _e$getChild$getLogica2.width,\n            c = _e$getChild$getLogica2.marginLeft,\n            d = _e$getChild$getLogica2.marginRight;\n\n        i -= b + (d || 0), j[a].x = e.props.x + f.hPadding + i, i -= c || 0;\n      }), a = [l.left + f.hPadding, g.width - (l.right + f.hPadding)], b = Math.abs(a[0] - a[1]), c = a[0] + b / 2, d = c - l.center / 2, k.center.forEach(function (a) {\n        var _e$getChild$getLogica3 = e.getChild(a).getLogicalSpace(),\n            b = _e$getChild$getLogica3.width,\n            c = _e$getChild$getLogica3.marginLeft,\n            g = _e$getChild$getLogica3.marginRight;\n\n        d += c || 0, j[a].x = e.props.x + f.hPadding + d, d += b + g || 0;\n      })), j;\n    }\n  }, {\n    key: \"getAlignment\",\n    value: function getAlignment() {\n      return {\n        hAlign: this.config.hAlign,\n        vAlign: this.config.vAlign\n      };\n    }\n  }, {\n    key: \"_placeToolVertically\",\n    value: function _placeToolVertically() {\n      var a,\n          b,\n          c,\n          d,\n          e = this,\n          f = e.config,\n          g = e.props,\n          h = f.vPadding,\n          i = g.height - f.vPadding,\n          j = {\n        top: [],\n        middle: [],\n        bottom: []\n      },\n          k = {\n        top: 0,\n        middle: 0,\n        bottom: 0\n      },\n          l = {};\n      return e.getChildren('tool') && e.getChildren('tool').length && ((0 < f.vDirection ? e.getChildren('tool') : e.getChildren('tool').reverse()).forEach(function (a) {\n        if (a.getState('visible') && !a.getState('removed')) {\n          var _a$getAlignment2 = a.getAlignment(),\n              _b2 = _a$getAlignment2.vAlign,\n              _a$getLogicalSpace3 = a.getLogicalSpace(),\n              _c3 = _a$getLogicalSpace3.width,\n              _d3 = _a$getLogicalSpace3.height,\n              _h2 = _a$getLogicalSpace3.marginTop,\n              _i2 = _a$getLogicalSpace3.marginLeft,\n              m = _a$getLogicalSpace3.marginRight,\n              n = _a$getLogicalSpace3.marginBottom,\n              o = a.getId();\n\n          k[_b2] += _d3 + (_h2 || 0) + (n || 0), j[_b2].push(a.getId()), l[o] = {}, l[o].x = e.props.x + _i2 + f.hPadding + _i2 + (g.width - 2 * f.hPadding - (_c3 + _i2 + m)) / 2;\n        }\n      }), j.top.forEach(function (a) {\n        var _e$getChild$getLogica4 = e.getChild(a).getLogicalSpace(),\n            b = _e$getChild$getLogica4.height,\n            c = _e$getChild$getLogica4.marginTop,\n            d = _e$getChild$getLogica4.marginBottom;\n\n        h += c || 0, l[a].y = e.props.y + f.vPadding + h, h += b + (d || 0);\n      }), j.bottom.reverse().forEach(function (a) {\n        var _e$getChild$getLogica5 = e.getChild(a).getLogicalSpace(),\n            b = _e$getChild$getLogica5.height,\n            c = _e$getChild$getLogica5.marginTop,\n            d = _e$getChild$getLogica5.marginBottom;\n\n        i -= b + (d || 0), l[a].y = e.props.y + f.vPadding + i, i -= c || 0;\n      }), a = [k.top + f.vPadding, g.height - (k.bottom + f.vPadding)], b = Math.abs(a[0] - a[1]), c = a[0] + b / 2, d = c - k.middle / 2, j.middle.forEach(function (a) {\n        var _e$getChild$getLogica6 = e.getChild(a).getLogicalSpace(),\n            b = _e$getChild$getLogica6.height,\n            c = _e$getChild$getLogica6.marginTop,\n            g = _e$getChild$getLogica6.marginBottom;\n\n        d += c || 0, l[a].y = e.props.y + f.vPadding + d, d += b + g || 0;\n      })), l;\n    }\n  }, {\n    key: \"setDimension\",\n    value: function setDimension() {\n      var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      a.x !== void 0 && (this.props.x = a.x), a.y !== void 0 && (this.props.y = a.y), a.width !== void 0 && (this.props.width = a.width), a.height !== void 0 && (this.props.height = a.height);\n    }\n  }, {\n    key: \"getDimension\",\n    value: function getDimension() {\n      return this.props;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var a = this,\n          b = a.config,\n          c = a.getDimension();\n      a.addGraphicalElement({\n        id: 'group',\n        el: 'group',\n        attr: {\n          name: 'toolbar'\n        },\n        container: {\n          id: 'toolbar-master',\n          isParent: !0\n        },\n        component: a,\n        label: 'group'\n      }), a.addGraphicalElement({\n        id: 'carpet',\n        el: 'rect',\n        attr: Object.assign({\n          fill: toRaphaelColor({\n            color: b.backgroundcolor,\n            alpha: b.backgroundalpha\n          }),\n          stroke: toRaphaelColor({\n            color: b.bordercolor,\n            alpha: b.borderalpha\n          }),\n          \"stroke-width\": b.borderthickness\n        }, c),\n        container: {\n          label: 'group',\n          id: 'group'\n        },\n        component: a,\n        label: 'carpet'\n      });\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      return 'toolbar';\n    }\n  }, {\n    key: \"getType\",\n    value: function getType() {\n      return 'Toolbar';\n    }\n  }]);\n\n  return ToolBar;\n}(SmartRenderer);\n\nexport default ToolBar;","map":null,"metadata":{},"sourceType":"module"}