{"ast":null,"code":"import _classCallCheck from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport { ComponentInterface } from '../../../fc-core/src/component-interface';\nimport { getValidValue, pluck, pluckNumber, getMouseCoordinate, setImageDisplayMode } from '../../../fc-core/src/lib';\n\nvar UNDEF,\n    NONE = 'none',\n    POSITION_TOP = 'top',\n    POSITION_BOTTOM = 'bottom',\n    POSITION_MIDDLE = 'middle',\n    POSITION_RIGHT = 'right',\n    POSITION_LEFT = 'left',\n    POINTER = 'pointer',\n    TL = 'tl',\n    NORMAL = 'normal',\n    LOGOROLLOUT = 'LogoRollout',\n    LOGOROLLOVER = 'LogoRollover',\n    LOGOCLICK = 'LogoClick',\n    LOGOLOADED = 'LogoLoaded',\n    LOGOLOADERROR = 'LogoLoadError',\n    defaultPosition = {\n  vAlign: 'top',\n  hAlign: 'left'\n},\n    pointerCSS = {\n  link: {\n    cursor: 'pointer',\n    _cursor: 'pointer'\n  },\n  normal: {\n    cursor: 'default',\n    _cursor: 'normal'\n  }\n},\n    position = {\n  tr: {\n    vAlign: 'top',\n    hAlign: 'right'\n  },\n  bl: {\n    vAlign: 'bottom',\n    hAlign: 'left'\n  },\n  br: {\n    vAlign: 'bottom',\n    hAlign: 'right'\n  },\n  cc: {\n    vAlign: 'middle',\n    hAlign: 'middle'\n  }\n},\n    isVML = !!(window.SVGAngle || document.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure', '1.1')),\n    getHandler = function getHandler(a) {\n  var b = a.config;\n  return {\n    load: function load() {\n      var c,\n          d = a.getGraphicalElement('logoImage'),\n          e = a.getFromEnv('chartConfig'),\n          f = e.borderWidth || 0,\n          g = a.getFromEnv('chart'),\n          h = e.height,\n          i = e.width,\n          j = b.logoPosition,\n          k = b.logoScale,\n          l = b.logoLeftMargin,\n          m = b.logoTopMargin,\n          n = b.logoURL,\n          o = b.logoAlpha,\n          p = b.logoPositionSTR,\n          q = b.logoLink;\n      d.show(), c = setImageDisplayMode(NONE, j.vAlign, j.hAlign, k, f, i, h, d._.RefImg), isVML && (c.w = c.width || 0, c.h = c.height || 0), c.transform = 'T' + l + ',' + m, d.attr(c), g.fireChartInstanceEvent(LOGOLOADED, {\n        logoURL: n,\n        logoAlpha: o,\n        logoPosition: p,\n        logoScale: k,\n        logoLink: q\n      });\n    },\n    error: function error(c) {\n      var d = b.logoURL,\n          e = b.logoAlpha,\n          f = b.logoPositionSTR,\n          g = b.logoScale,\n          h = b.logoLink,\n          i = a.getFromEnv('chart');\n      i.fireChartInstanceEvent(LOGOLOADERROR, {\n        logoURL: d,\n        logoAlpha: e,\n        logoPosition: f,\n        logoScale: g,\n        logoLink: h,\n        error: c\n      });\n    },\n    mouseover: function mouseover(c) {\n      var d = a.getFromEnv('chartInstance'),\n          e = getMouseCoordinate(d.ref, c),\n          f = a.getFromEnv('chart'),\n          g = b.logoURL,\n          h = b.logoAlpha,\n          i = b.logoPositionSTR,\n          j = b.logoScale,\n          k = b.logoLink;\n      f.fireChartInstanceEvent(LOGOROLLOVER, {\n        logoURL: g,\n        logoAlpha: h,\n        logoPosition: i || TL,\n        logoScale: j,\n        logoLink: k,\n        chartX: e.chartX,\n        chartY: e.chartY,\n        pageX: e.pageX,\n        pageY: e.pageY\n      });\n    },\n    mouseout: function mouseout(c) {\n      var d = a.getFromEnv('chartInstance'),\n          e = getMouseCoordinate(d.ref, c),\n          f = a.getFromEnv('chart'),\n          g = b.logoURL,\n          h = b.logoAlpha,\n          i = b.logoPositionSTR,\n          j = b.logoScale,\n          k = b.logoLink;\n      f.fireChartInstanceEvent(LOGOROLLOUT, {\n        logoURL: g,\n        logoAlpha: h,\n        logoPosition: i || TL,\n        logoScale: j,\n        logoLink: k,\n        chartX: e.chartX,\n        chartY: e.chartY,\n        pageX: e.pageX,\n        pageY: e.pageY\n      });\n    },\n    click: function click(c) {\n      var d = a.getFromEnv('chartInstance'),\n          e = getMouseCoordinate(d.ref, c),\n          f = a.getFromEnv('chart'),\n          g = b.logoURL,\n          h = b.logoAlpha,\n          i = b.logoPositionSTR,\n          j = b.logoScale,\n          k = b.logoLink;\n      f.fireChartInstanceEvent(LOGOCLICK, {\n        logoURL: g,\n        logoAlpha: h,\n        logoPosition: i || TL,\n        logoScale: j,\n        logoLink: k,\n        chartX: e.chartX,\n        chartY: e.chartY,\n        pageX: e.pageX,\n        pageY: e.pageY\n      }, UNDEF, b.linkClickFN);\n    }\n  };\n};\n\nvar Logo =\n/*#__PURE__*/\nfunction (_ComponentInterface) {\n  _inherits(Logo, _ComponentInterface);\n\n  function Logo() {\n    var _this;\n\n    _classCallCheck(this, Logo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Logo).call(this));\n\n    var a = _assertThisInitialized(_this);\n\n    a.config._context = {}, a.config.handler = getHandler(a), a.config.linkClickFN = function () {\n      var b = a.config.logoLink;\n      b && a.getFromEnv('linkClickFN').call({\n        link: b\n      }, !0);\n    };\n    return _this;\n  }\n\n  _createClass(Logo, [{\n    key: \"configureAttributes\",\n    value: function configureAttributes() {\n      var a = this,\n          b = a.config,\n          c = a.getFromEnv('chart-attrib');\n      b.logoURL = getValidValue(c.logourl, ''), b.logoPositionSTR = pluck(c.logoposition, TL).toLowerCase(), b.logoPosition = position[b.logoPositionSTR] || defaultPosition, b.logoAlpha = pluckNumber(c.logoalpha, 100), b.logoLink = getValidValue(c.logolink), b.logoScale = pluckNumber(c.logoscale, 100), b.logoLeftMargin = pluckNumber(c.logoleftmargin, 0), b.logoTopMargin = pluckNumber(c.logotopmargin, 0), a.setState('dirty', !0);\n    }\n  }, {\n    key: \"_contextChanged\",\n    value: function _contextChanged() {\n      var a,\n          b = this,\n          c = b.config,\n          d = b.getFromEnv('chartConfig'),\n          e = d.borderWidth,\n          f = d.width,\n          g = d.height;\n      return e !== c._context.chartBorderWidth && (c._context.chartBorderWidth = e, a = !0), f !== c._context.chartWidth && (c._context.chartWidth = f, a = !0), g !== c._context.chartHeight && (c._context.chartHeight = g, a = !0), a;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var a = this,\n          b = a.config,\n          c = a.getFromEnv('animationManager'),\n          d = a.getGraphicalElement('logoImage'),\n          e = a.getLinkedParent().getChildContainer('logoGroup'),\n          f = b.logoAlpha,\n          g = b.logoURL,\n          h = b.logoLink,\n          i = !a.getState('removed'),\n          j = a._contextChanged();\n\n      i && !(a.getState('dirty') || j) || g && i && (d = c.setAnimation({\n        el: d || 'image',\n        attr: {\n          opacity: .01 * f || 1,\n          src: g\n        },\n        component: a,\n        container: e\n      }), !a.getGraphicalElement('logoImage') && (a.addGraphicalElement('logoImage', d), d.on('load', b.handler.load), d.on('error', b.handler.error), d.on('fc-click', b.handler.click), d.on('fc-mouseover', b.handler.mouseover), d.on('fc-mouseout', b.handler.mouseout)), d.css(pointerCSS[h ? 'link' : 'normal']));\n    }\n  }]);\n\n  return Logo;\n}(ComponentInterface);\n\nexport default Logo;","map":null,"metadata":{},"sourceType":"module"}