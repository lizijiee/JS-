{"ast":null,"code":"import CenterLabelExtension from './center-label-extension';\nimport { componentFactory } from '../../../fc-core/src/lib';\nimport { priorityList } from '../../../fc-core/src/schedular';\n\nvar UNDEF,\n    isDoughnut2D = function isDoughnut2D(a) {\n  return 'Doughnut2D' === a.getName();\n},\n    isMultiLevelPie = function isMultiLevelPie(a) {\n  return 'MultilevelPie' === a.getName();\n},\n    isChartAPI = function isChartAPI(a) {\n  return 'chartAPI' === a.getType();\n},\n    isDataset = function isDataset(a) {\n  return 'dataset' === a.getType();\n},\n    count = 0;\n\nfunction centerLabel(a, b) {\n  var c = this.apiInstance,\n      d = c.getChildren('dataset')[0],\n      e = d.getChildren(),\n      f = e.centerLabel && e.centerLabel[0],\n      g = c.config,\n      h = function h() {\n    var d,\n        e,\n        g = c.getDatasets()[0],\n        h = g.config,\n        i = h.piePlotOptions,\n        j = i.innerSize;\n    if (d = f.config, 'object' != typeof b) b = d;else {\n      for (e in d) {\n        b[e] === UNDEF && (b[e] = d[e]);\n      }\n\n      d = Object.assign(d, b);\n    }\n    b.label = a, d.label = a, g.centerLabelConfig = d, j && f && f.draw(a || '');\n  };\n\n  f === UNDEF && (componentFactory(d, CenterLabelExtension, 'centerLabel', 1, [g]), f = e.centerLabel && e.centerLabel[0]), c.addJob(\"eiMethods-center-lebel\".concat(count++), h, priorityList.postRender);\n}\n\nexport default {\n  extension: function extension(a) {\n    var b;\n    a.addEventListener('instantiated', function (a) {\n      var c = a.sender;\n      b || (b = isChartAPI(c) && (isDoughnut2D(c) || isMultiLevelPie(c))), b && isDataset(c) && c.registerFactory('centerLabel', function () {\n        var a = c.getFromEnv('chartConfig'),\n            d = c.getFromEnv('chartInstance'),\n            e = !!(a.centerlabel || a.defaultcenterlabel);\n        d.centerLabel = centerLabel, componentFactory(c, CenterLabelExtension, 'centerLabel', e ? 1 : 0, [a]), b = UNDEF;\n      });\n    });\n  },\n  name: 'CenterLabelExtension',\n  type: 'extension',\n  requiresFusionCharts: !0\n};","map":null,"metadata":{},"sourceType":"module"}