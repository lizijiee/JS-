{"ast":null,"code":"import _classCallCheck from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _assertThisInitialized from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _getPrototypeOf from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/get\";\nimport _inherits from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport Base from './input-base';\nimport { getMouseCoordinate } from '../../../fc-core/src/lib';\n\nvar zoomOnPoint = function zoomOnPoint(a, b, c, d) {\n  var e = Math.round,\n      f = b - a.minValue,\n      g = a.maxValue - b;\n  return {\n    min: e((b - f / c * (c - 1)) * d) / d,\n    max: e((b + g / c * (c - 1)) * d) / d\n  };\n};\n\nvar InputDbTapZoom =\n/*#__PURE__*/\nfunction (_Base) {\n  _inherits(InputDbTapZoom, _Base);\n\n  function InputDbTapZoom() {\n    var _this;\n\n    _classCallCheck(this, InputDbTapZoom);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InputDbTapZoom).call(this));\n\n    var a = _assertThisInitialized(_this);\n\n    a.controlArr = [{\n      nativeInteraction: ['fc-dbclick'],\n      callback: a.zoom.bind(a),\n      component: a\n    }];\n    return _this;\n  }\n\n  _createClass(InputDbTapZoom, [{\n    key: \"getName\",\n    value: function getName() {\n      return 'dbTapZoom';\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      _get(_getPrototypeOf(InputDbTapZoom.prototype), \"configure\", this).call(this), this.enable();\n    }\n  }, {\n    key: \"setControl\",\n    value: function setControl() {\n      var a = this,\n          b = a.controlArr,\n          c = a.getLinkedParent();\n      c.releaseControl(b), a.isEnabled() && c.getControl(b);\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(a) {\n      var b,\n          c,\n          d,\n          e,\n          f,\n          g,\n          h,\n          i,\n          j,\n          k,\n          l = this,\n          m = l.getFromEnv('chart'),\n          n = getMouseCoordinate(m.getLinkedItem('container'), a, m),\n          o = l.config,\n          p = o.hookFn,\n          q = {},\n          r = !1,\n          s = Math.pow(10, o.zoomDecimalLimit) || 1;\n      m.getFromEnv('animationManager').setAnimationState('zoom'), l.getFromEnv('axesObArr').forEach(function (a) {\n        b = a.axis, c = b.getValue(a.isY ? n.chartY : n.chartX), e = b.getVisibleConfig(), d = zoomOnPoint(e, c, o.stepzoom, s), a.isY ? (i = d.min, j = d.max) : (g = d.min, h = d.max, q = l.constructor._getZoomInfo(g, h, b)), b.getZoom() <= s && (p && 'function' == typeof o.hookFn && p(d.min, d.max), f = b.setVisibleConfig(d.min, d.max), r = r || f, a.stack.push(e), k = a.stack.length + 1);\n      }), r && l._raiseZoomEvents('zoomin', 'zoomedin', Object.assign(q, {\n        level: k,\n        startX: g,\n        endX: h,\n        startY: i,\n        endY: j\n      }, a.originalEvent));\n    }\n  }]);\n\n  return InputDbTapZoom;\n}(Base);\n\nexport default InputDbTapZoom;","map":null,"metadata":{},"sourceType":"module"}