{"ast":null,"code":"import _classCallCheck from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport Tool from '../tool';\nimport { getDep } from '../../../dependency-manager';\nimport { priorityList } from '../../../schedular';\nimport { crispBound } from '../../../../../fc-core/src/lib';\nvar R = getDep('redraphael', 'plugin'),\n    mathMax = Math.max;\n\nvar ScrollTrack =\n/*#__PURE__*/\nfunction (_Tool) {\n  _inherits(ScrollTrack, _Tool);\n\n  function ScrollTrack() {\n    var _this;\n\n    _classCallCheck(this, ScrollTrack);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ScrollTrack).call(this)), _this._evtHandlers = {};\n    return _this;\n  }\n\n  _createClass(ScrollTrack, [{\n    key: \"configureAttributes\",\n    value: function configureAttributes() {\n      var a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var b = this,\n          c = this.config,\n          d = b.getLinkedParent().config;\n      c.fillColor = a.trackFill || d.displayFlat && d.color || [90 * d.isHorizontal, R.tintshade(d.color, .15).rgba, d.color].join('-'), c.strokeColor = a.trackStroke || R.tintshade(d.color, -.75).rgba;\n    }\n  }, {\n    key: \"attachEventHandlers\",\n    value: function attachEventHandlers() {\n      var a,\n          b,\n          c,\n          d,\n          e,\n          f,\n          g,\n          h = this,\n          i = h.config,\n          j = h.getLinkedParent(),\n          k = j.config,\n          l = k.isHorizontal,\n          m = function m() {\n        1 < k.scrollPosition ? (k.scrollPosition = 1, d = !1) : (0 > k.scrollPosition || isNaN(k.scrollPosition)) && (k.scrollPosition = 0, d = !1), f.asyncDraw(), 'function' == typeof k.evt.scroll && k.evt.scroll(k.scrollPosition);\n      },\n          n = function n() {\n        k.scrollPosition += .01, e >= k.scrollPosition && d && (m(), h.addJob('dragScrollAnchorRight', n, priorityList.draw));\n      },\n          o = function o() {\n        k.scrollPosition -= .01, e <= k.scrollPosition && d && (m(), h.addJob('dragScrollAnchorLeft', o, priorityList.draw));\n      };\n\n      h.addEventListener('fc-mousedown', h._evtHandlers.mousedown || (h._evtHandlers.mousedown = function (m) {\n        f = j.getChildren('scrollAnchor')[0], g = f.config, a = m.originalEvent.layerX, b = m.originalEvent.layerY, d = !0, c = l ? a - (g._nodeDimensions.x + i.transLateX + g._nodeDimensions.width / 2) : b - (g._nodeDimensions.y + i.transLateY + g._nodeDimensions.height / 2), e = c / g.trackLength + k.scrollPosition, e >= k.scrollPosition ? h.addJob('dragScrollAnchorRight', n, priorityList.draw) : h.addJob('dragScrollAnchorLeft', o, priorityList.draw);\n      })), h.addEventListener('fc-mouseup', h._evtHandlers.mouseup || (h._evtHandlers.mouseup = function () {\n        d = !1;\n      }));\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var a = this,\n          b = a.config,\n          c = this.getLinkedParent(),\n          d = c.config,\n          e = crispBound(d.x + .5, d.y + d.padding + .5, d.width - 1, d.height - 1, d.strokeWidth);\n      a.addGraphicalElement({\n        el: 'rect',\n        attr: {\n          x: e.x,\n          y: e.y,\n          width: mathMax(e.width, 0),\n          height: mathMax(e.height, 0),\n          fill: b.fillColor,\n          stroke: b.strokeColor,\n          r: d.roundEdges && 2 || 0\n        },\n        container: {\n          id: 'scrollerGroup',\n          label: 'scrollerGroup',\n          isParent: !0\n        },\n        component: a,\n        label: 'scrollerTrack',\n        id: 'scrollerTrack'\n      });\n    }\n  }]);\n\n  return ScrollTrack;\n}(Tool);\n\nexport default ScrollTrack;","map":null,"metadata":{},"sourceType":"module"}