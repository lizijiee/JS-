{"ast":null,"code":"import _classCallCheck from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/get\";\nimport _inherits from \"F:\\\\App Store\\\\Coding\\\\Github_Download\\\\JS-\\\\React\\u9879\\u76EE\\\\react-mall\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport { POSITION_BOTTOM, CREDIT_HREF, CREDIT_STRING, creditLabel, POSITION_START, BLANK, POINTER, HAND, componentFactory, ROUND, getMouseCoordinate, pluck } from '../lib';\nimport { triggerEvent } from '../event-api';\nimport ChartMessage from '../chart-message';\nimport { ComponentInterface } from '../component-interface';\nimport AnimationManager from '../animation-manager';\nimport { getDep } from '../dependency-manager';\nimport EiList from '../_internal/ei-method-list';\n\nvar MOUSEOUT = 'fc-mouseout',\n    DEFAULT_CREDITLABEL = creditLabel,\n    addEiMethods = function addEiMethods(a, b) {\n  for (var c in b) {\n    b.hasOwnProperty(c) && (a[c] = b[c]);\n  }\n},\n    getEIList = function getEIList(a) {\n  var b = EiList[a] || [];\n  return b.concat(EiList['*']);\n},\n    _mouseEvtHandler2 = function _mouseEvtHandler(a, b, c) {\n  var d,\n      e,\n      f,\n      g,\n      h,\n      k,\n      m,\n      n,\n      o = c.mouseTracker,\n      p = b.originalEvent,\n      q = a.config,\n      r = q.datasetOrder || a.getDatasets(),\n      s = !1,\n      t = r.length,\n      u = o._lastDatasetIndex,\n      v = o._lastPointIndex;\n\n  for (d = getMouseCoordinate(a.getFromEnv('chart-container'), p, a), e = d.chartX, f = d.chartY; t-- && !s;) {\n    g = r[t], g && g.getState('visible') && (h = g._getHoveredPlot && g._getHoveredPlot(e, f), h && h.hovered && (s = !0, h.datasetIndex = t, n = o.getMouseEvents(b, h.datasetIndex, h.pointIndex)));\n  }\n\n  if ((!s || n && n.fireOut) && 'undefined' != typeof u && r[u] && r[u]._firePlotEvent && (n && !n.events.length ? o.mouseoutTimer = setTimeout(function () {\n    a.mouseoutHandler(b, u, v);\n  }, 20) : (a.mouseoutHandler(b, u, v), clearTimeout(o.mouseoutTimer))), s) for (m = n.events && n.events.length, m && (o._lastDatasetIndex = h.datasetIndex, v = o._lastPointIndex = h.pointIndex), k = 0; k < m; k += 1) {\n    g && g._firePlotEvent && g && g._firePlotEvent && g._firePlotEvent(n.events[k], v, b, h.datasetIndex);\n  }\n};\n\nvar BaseChart =\n/*#__PURE__*/\nfunction (_ComponentInterface) {\n  _inherits(BaseChart, _ComponentInterface);\n\n  function BaseChart() {\n    _classCallCheck(this, BaseChart);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(BaseChart).apply(this, arguments));\n  }\n\n  _createClass(BaseChart, [{\n    key: \"setDummyEImethods\",\n    value: function setDummyEImethods(a) {\n      var b = this,\n          c = b.config,\n          d = c._eiStore || (c._eiStore = {}),\n          e = getEIList(a),\n          f = b.getFromEnv('chartInstance'),\n          g = function g(a) {\n        return function () {\n          d[a] || (d[a] = []), d[a].push(arguments);\n        };\n      };\n\n      e.forEach(function (a) {\n        f[a] || (f[a] = g(a));\n      }), f.addEventListener('renderComplete', function () {\n        var _loop = function _loop(_a) {\n          d[_a].forEach(function (b) {\n            f[_a].apply(f, b);\n          });\n        };\n\n        for (var _a in d) {\n          _loop(_a);\n        }\n\n        c._eiStore = {};\n      });\n    }\n  }, {\n    key: \"mouseoutHandler\",\n    value: function mouseoutHandler(a, b, c) {\n      var d = this,\n          e = d.config.datasetOrder || d.getDatasets(),\n          f = d.getChildren('mouseTracker')[0];\n      e[b] && e[b].components.data[c] ? e[b]._firePlotEvent(MOUSEOUT, c, a) : d.getFromEnv('toolTipController').hideAll(), delete f._lastDatasetIndex, delete f._lastPointIndex;\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      return 'base';\n    }\n  }, {\n    key: \"getType\",\n    value: function getType() {\n      return 'chartAPI';\n    }\n  }, {\n    key: \"_mouseEvtHandler\",\n    value: function _mouseEvtHandler(a, b) {\n      _mouseEvtHandler2(this, a, b);\n    }\n  }, {\n    key: \"getComponents\",\n    value: function getComponents(a, b) {\n      var c = a || this,\n          d = [];\n      return c.iterateComponents(function (a) {\n        a.getType() === b && d.push(a);\n      }), d;\n    }\n  }, {\n    key: \"getDatasets\",\n    value: function getDatasets(a) {\n      var b = a || this,\n          c = [];\n      return b.iterateComponents(function (a) {\n        'dataset' === a.getType() && c.push(a);\n      }), c;\n    }\n  }, {\n    key: \"preConfigure\",\n    value: function preConfigure(a) {\n      _get(_getPrototypeOf(BaseChart.prototype), \"preConfigure\", this).call(this, a), addEiMethods(this.getFromEnv('chartInstance'), this.eiMethods);\n    }\n  }, {\n    key: \"configureAttributes\",\n    value: function configureAttributes(a) {\n      _get(_getPrototypeOf(BaseChart.prototype), \"configureAttributes\", this).call(this, a), this.createBaseComponent();\n    }\n  }, {\n    key: \"createBaseComponent\",\n    value: function createBaseComponent() {\n      var a,\n          b = this;\n      (a = b.getFromEnv('animationManager')) ? a.configure() : (a = new AnimationManager(), b.addToEnv('animationManager', a), a.addToEnv('chart', b), a.addToEnv('animationManager', a), a.configure(), b.addExtEventListener('animationstart', function (a) {\n        var c = a.data.duration;\n        c && b.fireChartInstanceEvent('animationinvoked', {\n          duration: c\n        });\n      }, a));\n    }\n  }, {\n    key: \"setChartMessage\",\n    value: function setChartMessage(a, b, c) {\n      var d,\n          e,\n          f,\n          g = this;\n      componentFactory(this, ChartMessage, 'chartMessage'), f = g.getChildren('chartMessage')[0], c ? g.addToEnv('chart-container', c) : c = g.getFromEnv('chart-container'), d = g.getFromEnv('paper'), d || (e = getDep('redraphael', 'plugin'), d = new e(c, g.getFromEnv('chartWidth'), g.getFromEnv('chartHeight')), d.setHTMLClassName('fusioncharts-div'), g.addToEnv('paper', d)), d.setConfig('stroke-linecap', ROUND), g.getChildContainer('messageGroup') || g.addChildContainer('messageGroup', d.group('messageGroup')), g.config.hasChartMessage = !0, f.setChartMessage(a, b);\n    }\n  }, {\n    key: \"drawChartMessage\",\n    value: function drawChartMessage() {\n      var a = this;\n      a.config.hasChartMessage = !0, a.getChildren('chartMessage')[0].drawChartMessage(), a._drawCreditLabel();\n    }\n  }, {\n    key: \"_dispose\",\n    value: function _dispose() {\n      this._clearTimers && this._clearTimers();\n      var a = this.getFromEnv('paper');\n      a && a.remove && a.remove(), _get(_getPrototypeOf(BaseChart.prototype), \"_dispose\", this).call(this);\n    }\n  }, {\n    key: \"fireChartInstanceEvent\",\n    value: function fireChartInstanceEvent(a, b, c, d, e) {\n      var f = this.getFromEnv('chartInstance');\n      triggerEvent(a, f, b, c, d, e);\n    }\n  }, {\n    key: \"_hideChartMessage\",\n    value: function _hideChartMessage() {\n      var a = this,\n          b = a.getChildren('chartMessage');\n      a.config.hasChartMessage = !1, b && b[0]._hideChartMessage(), a.getGraphicalElement('messageText') && a.getGraphicalElement('messageText').hide(), a.getGraphicalElement('messageVeil') && a.getGraphicalElement('messageVeil').hide();\n    }\n  }, {\n    key: \"_removeWaitingJobs\",\n    value: function _removeWaitingJobs() {\n      this.iterateComponents(function (a) {\n        return a.removeAllJobs();\n      });\n    }\n  }, {\n    key: \"_drawCreditLabel\",\n    value: function _drawCreditLabel() {\n      var a,\n          b,\n          c,\n          d,\n          e,\n          f = this,\n          g = f.getFromEnv('core-options'),\n          h = f.getFromEnv('paper'),\n          i = g.creditLabel,\n          j = f.getFromEnv('chartInstance').args.creditLabel,\n          k = +f.getFromEnv('chartHeight'),\n          l = f.getGraphicalElement('creditLabel'),\n          m = f.getContainer('parentgroup'),\n          n = {\n        href: CREDIT_HREF,\n        text: CREDIT_STRING\n      };\n      a = pluck(j, i, DEFAULT_CREDITLABEL), a ? (c = f.getContainer('creditgroup') || f.addContainer('creditgroup', h.group('creditgroup')), m && c.insertAfter(m), d = {\n        text: n.text,\n        x: 6,\n        y: k - 4,\n        \"vertical-align\": POSITION_BOTTOM,\n        \"text-anchor\": POSITION_START,\n        fill: 'rgba(0,0,0,0.5)',\n        title: n.title || BLANK\n      }, e = {\n        fontSize: 9,\n        fontFamily: 'Verdana,sans',\n        cursor: POINTER,\n        _cursor: HAND\n      }, l ? l.attr(d).css(e) : (b = h.text(d, e, c), f.addGraphicalElement('creditLabel', b), b.on('fc-click', function () {\n        try {\n          open(n.href);\n        } catch (a) {\n          (top || window).location.href = n.href;\n        }\n      }))) : b && b.remove && f.removeGraphicalElement('creditLabel');\n    }\n  }, {\n    key: \"_hideModal\",\n    value: function _hideModal() {\n      this.getChildContainer('messageGroup').hide();\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(a) {\n      var b = this.getFromEnv('animationManager');\n      _get(_getPrototypeOf(BaseChart.prototype), \"remove\", this).call(this, a), b && b.remove(a);\n    }\n  }], [{\n    key: \"getName\",\n    value: function getName() {\n      return 'base';\n    }\n  }, {\n    key: \"getType\",\n    value: function getType() {\n      return 'chartAPI';\n    }\n  }]);\n\n  return BaseChart;\n}(ComponentInterface);\n\nBaseChart.stringConstants = {\n  BACKGROUNDLOADED: 'BackgroundLoaded',\n  BACKGROUNDLOADERROR: 'BackgroundLoadError',\n  clipRectStr: 'clip-rect'\n};\nexport { _mouseEvtHandler2 as _mouseEvtHandler };\nexport default BaseChart;","map":null,"metadata":{},"sourceType":"module"}